let Wt;const Rs=new Uint8Array(16);function Us(){if(!Wt&&(Wt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wt(Rs)}const he=[];for(let t=0;t<256;++t)he.push((t+256).toString(16).slice(1));function Ms(t,e=0){return he[t[e+0]]+he[t[e+1]]+he[t[e+2]]+he[t[e+3]]+"-"+he[t[e+4]]+he[t[e+5]]+"-"+he[t[e+6]]+he[t[e+7]]+"-"+he[t[e+8]]+he[t[e+9]]+"-"+he[t[e+10]]+he[t[e+11]]+he[t[e+12]]+he[t[e+13]]+he[t[e+14]]+he[t[e+15]]}const Ds=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fr={randomUUID:Ds};function Ps(t,e,n){if(Fr.randomUUID&&!e&&!t)return Fr.randomUUID();t=t||{};const r=t.random||(t.rng||Us)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Ms(r)}function yi(){return Ps().replace(/-/g,"")}let yr=yi;const pi=()=>yr();pi.setFactory=t=>{yr=t};pi.reset=()=>{yr=yi};const He=Symbol.for("_am_meta"),lt=Symbol.for("_am_trace"),dt=Symbol.for("_am_objectId"),Sn=Symbol.for("_am_isProxy"),pr=Symbol.for("_am_clearCache"),_i=Symbol.for("_am_uint"),bi=Symbol.for("_am_int"),wi=Symbol.for("_am_f64"),vi=Symbol.for("_am_counter"),Fs=Symbol.for("_am_text");class Be{constructor(e){if(typeof e=="string")this.elems=[...e];else if(Array.isArray(e))this.elems=e;else if(e===void 0)this.elems=[];else throw new TypeError(`Unsupported initial value for Text: ${e}`);Reflect.defineProperty(this,Fs,{value:!0})}get length(){return this.elems.length}get(e){return this.elems[e]}[Symbol.iterator](){const e=this.elems;let n=-1;return{next(){return n+=1,n<e.length?{done:!1,value:e[n]}:{done:!0}}}}toString(){if(!this.str){this.str="";for(const e of this.elems)typeof e=="string"?this.str+=e:this.str+="ï¿¼"}return this.str}toSpans(){if(!this.spans){this.spans=[];let e="";for(const n of this.elems)typeof n=="string"?e+=n:(e.length>0&&(this.spans.push(e),e=""),this.spans.push(n));e.length>0&&this.spans.push(e)}return this.spans}toJSON(){return this.toString()}set(e,n){if(this[He])throw new RangeError("object cannot be modified outside of a change block");this.elems[e]=n}insertAt(e,...n){if(this[He])throw new RangeError("object cannot be modified outside of a change block");n.every(r=>typeof r=="string")?this.elems.splice(e,0,...n.join("")):this.elems.splice(e,0,...n)}deleteAt(e,n=1){if(this[He])throw new RangeError("object cannot be modified outside of a change block");this.elems.splice(e,n)}map(e){this.elems.map(e)}lastIndexOf(e,n){this.elems.lastIndexOf(e,n)}concat(e){return new Be(this.elems.concat(e.elems))}every(e){return this.elems.every(e)}filter(e){return new Be(this.elems.filter(e))}find(e){return this.elems.find(e)}findIndex(e){return this.elems.findIndex(e)}forEach(e){this.elems.forEach(e)}includes(e){return this.elems.includes(e)}indexOf(e){return this.elems.indexOf(e)}join(e){return this.elems.join(e)}reduce(e){this.elems.reduce(e)}reduceRight(e){this.elems.reduceRight(e)}slice(e,n){return new Be(this.elems.slice(e,n))}some(e){return this.elems.some(e)}toLocaleString(){this.toString()}}class Lt{constructor(e){this.value=e||0,Reflect.defineProperty(this,vi,{value:!0})}valueOf(){return this.value}toString(){return this.valueOf().toString()}toJSON(){return this.value}increment(e){throw new Error("Counters should not be incremented outside of a change callback")}decrement(e){throw new Error("Counters should not be decremented outside of a change callback")}}class Ns extends Lt{constructor(e,n,r,i,s){super(e),this.context=n,this.path=r,this.objectId=i,this.key=s}increment(e){return e=typeof e=="number"?e:1,this.context.increment(this.objectId,this.key,e),this.value+=e,this.value}decrement(e){return this.increment(typeof e=="number"?-e:-1)}}function Ls(t,e,n,r,i){return new Ns(t,e,n,r,i)}class En{constructor(e){this.val=e}toString(){return this.val}}function Le(t){if(typeof t=="string"&&/^[0-9]+$/.test(t)&&(t=parseInt(t,10)),typeof t!="number")return t;if(t<0||isNaN(t)||t===1/0||t===-1/0)throw new RangeError("A list index must be positive, but you passed "+t);return t}function Ee(t,e){const{context:n,objectId:r,path:i,textV2:s}=t,o=n.getWithType(r,e);if(o===null)return;const a=o[0],c=o[1];switch(a){case void 0:return;case"map":return pt(n,c,s,[...i,e]);case"list":return $t(n,c,s,[...i,e]);case"text":return s?n.text(c):Rt(n,c,[...i,e]);case"str":return c;case"uint":return c;case"int":return c;case"f64":return c;case"boolean":return c;case"null":return null;case"bytes":return c;case"timestamp":return c;case"counter":return Ls(c,n,i,r,e);default:throw RangeError(`datatype ${a} unimplemented`)}}function dn(t,e){switch(typeof t){case"object":if(t==null)return[null,"null"];if(t[_i])return[t.value,"uint"];if(t[bi])return[t.value,"int"];if(t[wi])return[t.value,"f64"];if(t[vi])return[t.value,"counter"];if(t instanceof Date)return[t.getTime(),"timestamp"];if(t instanceof En)return[t.toString(),"str"];if(t instanceof Be)return[t,"text"];if(t instanceof Uint8Array)return[t,"bytes"];if(t instanceof Array)return[t,"list"];if(Object.getPrototypeOf(t)===Object.getPrototypeOf({}))return[t,"map"];throw An(t,context)?new RangeError("Cannot create a reference to an existing document object"):new RangeError(`Cannot assign unknown object: ${t}`);case"boolean":return[t,"boolean"];case"number":return Number.isInteger(t)?[t,"int"]:[t,"f64"];case"string":return e?[t,"text"]:[t,"str"];default:throw new RangeError(`Unsupported type of value: ${typeof t}`)}}function An(t,e){var n,r;return t instanceof Date?!1:!!(t&&((r=(n=t[He])===null||n===void 0?void 0:n.handle)===null||r===void 0?void 0:r.__wbg_ptr)===e.__wbg_ptr)}const $s={get(t,e){const{context:n,objectId:r,cache:i}=t;return e===Symbol.toStringTag?t[Symbol.toStringTag]:e===dt?r:e===Sn?!0:e===lt?t.trace:e===He?{handle:n}:(i[e]||(i[e]=Ee(t,e)),i[e])},set(t,e,n){const{context:r,objectId:i,path:s,textV2:o}=t;if(t.cache={},An(n,r))throw new RangeError("Cannot create a reference to an existing document object");if(e===lt)return t.trace=n,!0;if(e===pr)return!0;const[a,c]=dn(n,o);switch(c){case"list":{const u=r.putObject(i,e,[]),f=$t(r,u,o,[...s,e]);for(let l=0;l<a.length;l++)f[l]=a[l];break}case"text":{if(o)hn(a),r.putObject(i,e,a);else{br(a);const u=r.putObject(i,e,"");Rt(r,u,[...s,e]).splice(0,0,...a)}break}case"map":{const u=r.putObject(i,e,{}),f=pt(r,u,o,[...s,e]);for(const l in a)f[l]=a[l];break}default:r.put(i,e,a,c)}return!0},deleteProperty(t,e){const{context:n,objectId:r}=t;return t.cache={},n.delete(r,e),!0},has(t,e){return this.get(t,e)!==void 0},getOwnPropertyDescriptor(t,e){const n=this.get(t,e);if(typeof n<"u")return{configurable:!0,enumerable:!0,value:n}},ownKeys(t){const{context:e,objectId:n}=t,r=e.keys(n);return[...new Set(r)]}},mi={get(t,e){const{context:n,objectId:r}=t;return e=Le(e),e===Symbol.hasInstance?i=>Array.isArray(i):e===Symbol.toStringTag?t[Symbol.toStringTag]:e===dt?r:e===Sn?!0:e===lt?t.trace:e===He?{handle:n}:e==="length"?n.length(r):typeof e=="number"?Ee(t,e):_r(t)[e]},set(t,e,n){const{context:r,objectId:i,path:s,textV2:o}=t;if(e=Le(e),An(n,r))throw new RangeError("Cannot create a reference to an existing document object");if(e===pr)return!0;if(e===lt)return t.trace=n,!0;if(typeof e=="string")throw new RangeError("list index must be a number");const[a,c]=dn(n,o);switch(c){case"list":{let u;e>=r.length(i)?u=r.insertObject(i,e,[]):u=r.putObject(i,e,[]),$t(r,u,o,[...s,e]).splice(0,0,...a);break}case"text":{if(o)hn(a),e>=r.length(i)?r.insertObject(i,e,a):r.putObject(i,e,a);else{let u;br(a),e>=r.length(i)?u=r.insertObject(i,e,""):u=r.putObject(i,e,""),Rt(r,u,[...s,e]).splice(0,0,...a)}break}case"map":{let u;e>=r.length(i)?u=r.insertObject(i,e,{}):u=r.putObject(i,e,{});const f=pt(r,u,o,[...s,e]);for(const l in a)f[l]=a[l];break}default:e>=r.length(i)?r.insert(i,e,a,c):r.put(i,e,a,c)}return!0},deleteProperty(t,e){const{context:n,objectId:r}=t;e=Le(e);const i=n.get(r,e);if(i!=null&&i[0]=="counter")throw new TypeError("Unsupported operation: deleting a counter from a list");return n.delete(r,e),!0},has(t,e){const{context:n,objectId:r}=t;return e=Le(e),typeof e=="number"?e<n.length(r):e==="length"},getOwnPropertyDescriptor(t,e){const{context:n,objectId:r}=t;return e==="length"?{writable:!0,value:n.length(r)}:e===dt?{configurable:!1,enumerable:!1,value:r}:(e=Le(e),{configurable:!0,enumerable:!0,value:Ee(t,e)})},getPrototypeOf(t){return Object.getPrototypeOf(t)},ownKeys(){const t=[];return t.push("length"),t}},Bs=Object.assign({},mi,{get(t,e){const{context:n,objectId:r}=t;return e=Le(e),e===Symbol.hasInstance?i=>Array.isArray(i):e===Symbol.toStringTag?t[Symbol.toStringTag]:e===dt?r:e===Sn?!0:e===lt?t.trace:e===He?{handle:n}:e==="length"?n.length(r):typeof e=="number"?Ee(t,e):zs(t)[e]||_r(t)[e]},getPrototypeOf(){return Object.getPrototypeOf(new Be)}});function pt(t,e,n,r){const i={context:t,objectId:e,path:r||[],cache:{},textV2:n},s={};return Object.assign(s,i),new Proxy(s,$s)}function $t(t,e,n,r){const i={context:t,objectId:e,path:r||[],cache:{},textV2:n},s=[];return Object.assign(s,i),new Proxy(s,mi)}function Rt(t,e,n){const r={context:t,objectId:e,path:n||[],cache:{},textV2:!1},i={};return Object.assign(i,r),new Proxy(i,Bs)}function Vs(t,e){return pt(t,"_root",e,[])}function _r(t){const{context:e,objectId:n,path:r,textV2:i}=t;return{deleteAt(o,a){return typeof a=="number"?e.splice(n,o,a):e.delete(n,o),this},fill(o,a,c){const[u,f]=dn(o,i),l=e.length(n);a=Le(a||0),c=Le(c||l);for(let d=a;d<Math.min(c,l);d++)if(f==="list"||f==="map")e.putObject(n,d,u);else if(f==="text")if(i)hn(u),e.putObject(n,d,u);else{br(u);const h=e.putObject(n,d,""),p=Rt(e,h,[...r,d]);for(let _=0;_<u.length;_++)p[_]=u.get(_)}else e.put(n,d,u,f);return this},indexOf(o,a=0){const c=e.length(n);for(let u=a;u<c;u++){const f=e.getWithType(n,u);if(f&&(f[1]===o[dt]||f[1]===o))return u}return-1},insertAt(o,...a){return this.splice(o,0,...a),this},pop(){const o=e.length(n);if(o==0)return;const a=Ee(t,o-1);return e.delete(n,o-1),a},push(...o){const a=e.length(n);return this.splice(a,0,...o),e.length(n)},shift(){if(e.length(n)==0)return;const o=Ee(t,0);return e.delete(n,0),o},splice(o,a,...c){o=Le(o),typeof a!="number"&&(a=e.length(n)-o),a=Le(a);for(const l of c)if(An(l,e))throw new RangeError("Cannot create a reference to an existing document object");const u=[];for(let l=0;l<a;l++){const d=Ee(t,o);d!==void 0&&u.push(d),e.delete(n,o)}const f=c.map(l=>dn(l,i));for(const[l,d]of f){switch(d){case"list":{const h=e.insertObject(n,o,[]);$t(e,h,i,[...r,o]).splice(0,0,...l);break}case"text":{if(i)hn(l),e.insertObject(n,o,l);else{const h=e.insertObject(n,o,"");Rt(e,h,[...r,o]).splice(0,0,...l)}break}case"map":{const h=e.insertObject(n,o,{}),p=pt(e,h,i,[...r,o]);for(const _ in l)p[_]=l[_];break}default:e.insert(n,o,l,d)}o+=1}return u},unshift(...o){return this.splice(0,0,...o),e.length(n)},entries(){let o=0;return{next:()=>{const c=Ee(t,o);return c===void 0?{value:void 0,done:!0}:{value:[o++,c],done:!1}},[Symbol.iterator](){return this}}},keys(){let o=0;const a=e.length(n);return{next:()=>o<a?{value:o++,done:!1}:{value:void 0,done:!0},[Symbol.iterator](){return this}}},values(){let o=0;return{next:()=>{const c=Ee(t,o++);return c===void 0?{value:void 0,done:!0}:{value:c,done:!1}},[Symbol.iterator](){return this}}},toArray(){const o=[];let a;do a=Ee(t,o.length),a!==void 0&&o.push(a);while(a!==void 0);return o},map(o){return this.toArray().map(o)},toString(){return this.toArray().toString()},toLocaleString(){return this.toArray().toLocaleString()},forEach(o){return this.toArray().forEach(o)},concat(o){return this.toArray().concat(o)},every(o){return this.toArray().every(o)},filter(o){return this.toArray().filter(o)},find(o){let a=0;for(const c of this){if(o(c,a))return c;a+=1}},findIndex(o){let a=0;for(const c of this){if(o(c,a))return a;a+=1}return-1},includes(o){return this.find(a=>a===o)!==void 0},join(o){return this.toArray().join(o)},reduce(o,a){return this.toArray().reduce(o,a)},reduceRight(o,a){return this.toArray().reduceRight(o,a)},lastIndexOf(o,a=1/0){return this.toArray().lastIndexOf(o,a)},slice(o,a){return this.toArray().slice(o,a)},some(o){let a=0;for(const c of this){if(o(c,a))return!0;a+=1}return!1},[Symbol.iterator]:function*(){let o=0,a=Ee(t,o);for(;a!==void 0;)yield a,o+=1,a=Ee(t,o)}}}function zs(t){const{context:e,objectId:n}=t;return{set(i,s){return this[i]=s},get(i){return this[i]},toString(){return e.text(n).replace(/ï¿¼/g,"")},toSpans(){const i=[];let s="";const o=e.length(n);for(let a=0;a<o;a++){const c=this[a];typeof c=="string"?s+=c:(s.length>0&&(i.push(s),s=""),i.push(c))}return s.length>0&&i.push(s),i},toJSON(){return this.toString()},indexOf(i,s=0){return e.text(n).indexOf(i,s)},insertAt(i,...s){s.every(o=>typeof o=="string")?e.splice(n,i,0,s.join("")):_r(t).insertAt(i,...s)}}}function br(t){if(!(t instanceof Be))throw new Error("value was not a Text instance")}function hn(t){if(typeof t!="string")throw new Error("value was not a string")}class Hs{constructor(e){if(!(Number.isInteger(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER))throw new RangeError(`Value ${e} cannot be a uint`);this.value=e,Reflect.defineProperty(this,bi,{value:!0}),Object.freeze(this)}}class Ws{constructor(e){if(!(Number.isInteger(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=0))throw new RangeError(`Value ${e} cannot be a uint`);this.value=e,Reflect.defineProperty(this,_i,{value:!0}),Object.freeze(this)}}class Ks{constructor(e){if(typeof e!="number")throw new RangeError(`Value ${e} cannot be a float64`);this.value=e||0,Reflect.defineProperty(this,wi,{value:!0}),Object.freeze(this)}}function Js(t){for(const e in t)pe[e]=t[e]}const pe={create(t){throw new RangeError("Automerge.use() not called")},load(t,e){throw new RangeError("Automerge.use() not called (load)")},encodeChange(t){throw new RangeError("Automerge.use() not called (encodeChange)")},decodeChange(t){throw new RangeError("Automerge.use() not called (decodeChange)")},initSyncState(){throw new RangeError("Automerge.use() not called (initSyncState)")},encodeSyncMessage(t){throw new RangeError("Automerge.use() not called (encodeSyncMessage)")},decodeSyncMessage(t){throw new RangeError("Automerge.use() not called (decodeSyncMessage)")},encodeSyncState(t){throw new RangeError("Automerge.use() not called (encodeSyncState)")},decodeSyncState(t){throw new RangeError("Automerge.use() not called (decodeSyncState)")},exportSyncState(t){throw new RangeError("Automerge.use() not called (exportSyncState)")},importSyncState(t){throw new RangeError("Automerge.use() not called (importSyncState)")}};function Q(t,e=!0){if(typeof t!="object")throw new RangeError("must be the document root");const n=Reflect.get(t,He);if(n===void 0||n==null||e&&Te(t)!=="_root")throw new RangeError("must be the document root");return n}function Gs(t){Reflect.set(t,pr,!0)}function wr(t){return Reflect.get(t,lt)}function Te(t){return typeof t!="object"||t===null?null:Reflect.get(t,dt)}function Ue(t){return!!Reflect.get(t,Sn)}function qs(t,e,n){return xi(t,e,n,!0,(r,i)=>new Be(r.text(i)))}function Xs(t,e,n){return xi(t,e,n,!0,(r,i)=>r.text(i))}function xi(t,e,n,r,i){const s=t.getAll(e,n);if(s.length<=1)return;const o={};for(const a of s)switch(a[0]){case"map":o[a[1]]=pt(t,a[1],r,[n]);break;case"list":o[a[1]]=$t(t,a[1],r,[n]);break;case"text":o[a[1]]=i(t,a[1]);break;case"str":case"uint":case"int":case"f64":case"boolean":case"bytes":case"null":o[a[2]]=a[1];break;case"counter":o[a[2]]=new Lt(a[1]);break;case"timestamp":o[a[2]]=new Date(a[1]);break;default:throw RangeError(`datatype ${a[0]} unimplemented`)}return o}const Ys=""+new URL("automerge_wasm_bg-c5dadebe.wasm",import.meta.url).href;let g;const ze=new Array(128).fill(void 0);ze.push(void 0,null,!0,!1);function M(t){return ze[t]}let jt=ze.length;function Qs(t){t<132||(ze[t]=jt,jt=t)}function T(t){const e=M(t);return Qs(t),e}const Si=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Si.decode();let xt=null;function tn(){return(xt===null||xt.byteLength===0)&&(xt=new Uint8Array(g.memory.buffer)),xt}function xe(t,e){return t=t>>>0,Si.decode(tn().subarray(t,t+e))}function S(t){jt===ze.length&&ze.push(ze.length+1);const e=jt;return jt=ze[e],ze[e]=t,e}let ke=0;const nn=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Zs=typeof nn.encodeInto=="function"?function(t,e){return nn.encodeInto(t,e)}:function(t,e){const n=nn.encode(t);return e.set(n),{read:t.length,written:n.length}};function $e(t,e,n){if(n===void 0){const a=nn.encode(t),c=e(a.length,1)>>>0;return tn().subarray(c,c+a.length).set(a),ke=a.length,c}let r=t.length,i=e(r,1)>>>0;const s=tn();let o=0;for(;o<r;o++){const a=t.charCodeAt(o);if(a>127)break;s[i+o]=a}if(o!==r){o!==0&&(t=t.slice(o)),i=n(i,r,r=o+t.length*3,1)>>>0;const a=tn().subarray(i+o,i+r),c=Zs(t,a);o+=c.written}return ke=o,i}function se(t){return t==null}let St=null;function m(){return(St===null||St.byteLength===0)&&(St=new Int32Array(g.memory.buffer)),St}let Et=null;function rn(){return(Et===null||Et.byteLength===0)&&(Et=new Float64Array(g.memory.buffer)),Et}function Xn(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let s="[";i>0&&(s+=Xn(t[0]));for(let o=1;o<i;o++)s+=", "+Xn(t[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}function at(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}function eo(t){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.create(i,S(t));var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return Ne.__wrap(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function to(t,e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.load(s,S(t),S(e));var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return Ne.__wrap(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function no(t){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.encodeChange(i,S(t));var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return T(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function ro(t){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.decodeChange(i,S(t));var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return T(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function io(){const t=g.initSyncState();return Re.__wrap(t)}function so(t){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.importSyncState(i,S(t));var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return Re.__wrap(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function oo(t){at(t,Re);const e=g.exportSyncState(t.__wbg_ptr);return T(e)}function ao(t){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.encodeSyncMessage(i,S(t));var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return T(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function co(t){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.decodeSyncMessage(i,S(t));var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return T(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function uo(t){at(t,Re);const e=g.encodeSyncState(t.__wbg_ptr);return T(e)}function fo(t){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.decodeSyncState(i,S(t));var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return Re.__wrap(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}function _e(t,e){try{return t.apply(this,e)}catch(n){g.__wbindgen_exn_store(S(n))}}const lo=Object.freeze({Array:0,0:"Array",String:1,1:"String"}),Nr=new FinalizationRegistry(t=>g.__wbg_automerge_free(t>>>0));class Ne{static __wrap(e){e=e>>>0;const n=Object.create(Ne.prototype);return n.__wbg_ptr=e,Nr.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Nr.unregister(this),e}free(){const e=this.__destroy_into_raw();g.__wbg_automerge_free(e)}static new(e,n){try{const c=g.__wbindgen_add_to_stack_pointer(-16);var r=se(e)?0:$e(e,g.__wbindgen_malloc,g.__wbindgen_realloc),i=ke;g.automerge_new(c,r,i,n);var s=m()[c/4+0],o=m()[c/4+1],a=m()[c/4+2];if(a)throw T(o);return Ne.__wrap(s)}finally{g.__wbindgen_add_to_stack_pointer(16)}}clone(e){try{const a=g.__wbindgen_add_to_stack_pointer(-16);var n=se(e)?0:$e(e,g.__wbindgen_malloc,g.__wbindgen_realloc),r=ke;g.automerge_clone(a,this.__wbg_ptr,n,r);var i=m()[a/4+0],s=m()[a/4+1],o=m()[a/4+2];if(o)throw T(s);return Ne.__wrap(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}fork(e,n){try{const c=g.__wbindgen_add_to_stack_pointer(-16);var r=se(e)?0:$e(e,g.__wbindgen_malloc,g.__wbindgen_realloc),i=ke;g.automerge_fork(c,this.__wbg_ptr,r,i,S(n));var s=m()[c/4+0],o=m()[c/4+1],a=m()[c/4+2];if(a)throw T(o);return Ne.__wrap(s)}finally{g.__wbindgen_add_to_stack_pointer(16)}}pendingOps(){const e=g.automerge_pendingOps(this.__wbg_ptr);return T(e)}commit(e,n){var r=se(e)?0:$e(e,g.__wbindgen_malloc,g.__wbindgen_realloc),i=ke;const s=g.automerge_commit(this.__wbg_ptr,r,i,!se(n),se(n)?0:n);return T(s)}merge(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);at(e,Ne),g.automerge_merge(s,this.__wbg_ptr,e.__wbg_ptr);var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}rollback(){return g.automerge_rollback(this.__wbg_ptr)}keys(e,n){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_keys(o,this.__wbg_ptr,S(e),se(n)?0:S(n));var r=m()[o/4+0],i=m()[o/4+1],s=m()[o/4+2];if(s)throw T(i);return T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}text(e,n){let r,i;try{const l=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_text(l,this.__wbg_ptr,S(e),se(n)?0:S(n));var s=m()[l/4+0],o=m()[l/4+1],a=m()[l/4+2],c=m()[l/4+3],u=s,f=o;if(c)throw u=0,f=0,T(a);return r=u,i=f,xe(u,f)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_free(r,i,1)}}splice(e,n,r,i){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_splice(a,this.__wbg_ptr,S(e),n,r,S(i));var s=m()[a/4+0],o=m()[a/4+1];if(o)throw T(s)}finally{g.__wbindgen_add_to_stack_pointer(16)}}push(e,n,r){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_push(o,this.__wbg_ptr,S(e),S(n),S(r));var i=m()[o/4+0],s=m()[o/4+1];if(s)throw T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}pushObject(e,n){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_pushObject(a,this.__wbg_ptr,S(e),S(n));var r=m()[a/4+0],i=m()[a/4+1],s=m()[a/4+2],o=m()[a/4+3];if(o)throw T(s);let c;return r!==0&&(c=xe(r,i).slice(),g.__wbindgen_free(r,i*1)),c}finally{g.__wbindgen_add_to_stack_pointer(16)}}insert(e,n,r,i){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_insert(a,this.__wbg_ptr,S(e),n,S(r),S(i));var s=m()[a/4+0],o=m()[a/4+1];if(o)throw T(s)}finally{g.__wbindgen_add_to_stack_pointer(16)}}insertObject(e,n,r){try{const c=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_insertObject(c,this.__wbg_ptr,S(e),n,S(r));var i=m()[c/4+0],s=m()[c/4+1],o=m()[c/4+2],a=m()[c/4+3];if(a)throw T(o);let u;return i!==0&&(u=xe(i,s).slice(),g.__wbindgen_free(i,s*1)),u}finally{g.__wbindgen_add_to_stack_pointer(16)}}put(e,n,r,i){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_put(a,this.__wbg_ptr,S(e),S(n),S(r),S(i));var s=m()[a/4+0],o=m()[a/4+1];if(o)throw T(s)}finally{g.__wbindgen_add_to_stack_pointer(16)}}putObject(e,n,r){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_putObject(a,this.__wbg_ptr,S(e),S(n),S(r));var i=m()[a/4+0],s=m()[a/4+1],o=m()[a/4+2];if(o)throw T(s);return T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}increment(e,n,r){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_increment(o,this.__wbg_ptr,S(e),S(n),S(r));var i=m()[o/4+0],s=m()[o/4+1];if(s)throw T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}get(e,n,r){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_get(a,this.__wbg_ptr,S(e),S(n),se(r)?0:S(r));var i=m()[a/4+0],s=m()[a/4+1],o=m()[a/4+2];if(o)throw T(s);return T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}getWithType(e,n,r){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getWithType(a,this.__wbg_ptr,S(e),S(n),se(r)?0:S(r));var i=m()[a/4+0],s=m()[a/4+1],o=m()[a/4+2];if(o)throw T(s);return T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}getAll(e,n,r){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getAll(a,this.__wbg_ptr,S(e),S(n),se(r)?0:S(r));var i=m()[a/4+0],s=m()[a/4+1],o=m()[a/4+2];if(o)throw T(s);return T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}enableFreeze(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_enableFreeze(s,this.__wbg_ptr,S(e));var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}registerDatatype(e,n){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_registerDatatype(s,this.__wbg_ptr,S(e),S(n));var r=m()[s/4+0],i=m()[s/4+1];if(i)throw T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}applyPatches(e,n){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_applyPatches(o,this.__wbg_ptr,S(e),S(n));var r=m()[o/4+0],i=m()[o/4+1],s=m()[o/4+2];if(s)throw T(i);return T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}applyAndReturnPatches(e,n){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_applyAndReturnPatches(o,this.__wbg_ptr,S(e),S(n));var r=m()[o/4+0],i=m()[o/4+1],s=m()[o/4+2];if(s)throw T(i);return T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}diffIncremental(){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_diffIncremental(i,this.__wbg_ptr);var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return T(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}updateDiffCursor(){g.automerge_updateDiffCursor(this.__wbg_ptr)}resetDiffCursor(){g.automerge_resetDiffCursor(this.__wbg_ptr)}diff(e,n){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_diff(o,this.__wbg_ptr,S(e),S(n));var r=m()[o/4+0],i=m()[o/4+1],s=m()[o/4+2];if(s)throw T(i);return T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}isolate(e){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_isolate(i,this.__wbg_ptr,S(e));var n=m()[i/4+0],r=m()[i/4+1];if(r)throw T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}integrate(){g.automerge_integrate(this.__wbg_ptr)}length(e,n){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_length(o,this.__wbg_ptr,S(e),se(n)?0:S(n));var r=rn()[o/8+0],i=m()[o/4+2],s=m()[o/4+3];if(s)throw T(i);return r}finally{g.__wbindgen_add_to_stack_pointer(16)}}delete(e,n){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_delete(s,this.__wbg_ptr,S(e),S(n));var r=m()[s/4+0],i=m()[s/4+1];if(i)throw T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}save(){const e=g.automerge_save(this.__wbg_ptr);return T(e)}saveIncremental(){const e=g.automerge_saveIncremental(this.__wbg_ptr);return T(e)}saveSince(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_saveSince(s,this.__wbg_ptr,S(e));var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}saveNoCompress(){const e=g.automerge_saveNoCompress(this.__wbg_ptr);return T(e)}saveAndVerify(){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_saveAndVerify(i,this.__wbg_ptr);var e=m()[i/4+0],n=m()[i/4+1],r=m()[i/4+2];if(r)throw T(n);return T(e)}finally{g.__wbindgen_add_to_stack_pointer(16)}}loadIncremental(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_loadIncremental(s,this.__wbg_ptr,S(e));var n=rn()[s/8+0],r=m()[s/4+2],i=m()[s/4+3];if(i)throw T(r);return n}finally{g.__wbindgen_add_to_stack_pointer(16)}}applyChanges(e){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_applyChanges(i,this.__wbg_ptr,S(e));var n=m()[i/4+0],r=m()[i/4+1];if(r)throw T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}getChanges(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getChanges(s,this.__wbg_ptr,S(e));var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}getChangeByHash(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getChangeByHash(s,this.__wbg_ptr,S(e));var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}getChangesAdded(e){at(e,Ne);const n=g.automerge_getChangesAdded(this.__wbg_ptr,e.__wbg_ptr);return T(n)}getHeads(){const e=g.automerge_getHeads(this.__wbg_ptr);return T(e)}getActorId(){let e,n;try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getActorId(s,this.__wbg_ptr);var r=m()[s/4+0],i=m()[s/4+1];return e=r,n=i,xe(r,i)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_free(e,n,1)}}getLastLocalChange(){const e=g.automerge_getLastLocalChange(this.__wbg_ptr);return T(e)}dump(){g.automerge_dump(this.__wbg_ptr)}getMissingDeps(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getMissingDeps(s,this.__wbg_ptr,se(e)?0:S(e));var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}receiveSyncMessage(e,n){try{const s=g.__wbindgen_add_to_stack_pointer(-16);at(e,Re),g.automerge_receiveSyncMessage(s,this.__wbg_ptr,e.__wbg_ptr,S(n));var r=m()[s/4+0],i=m()[s/4+1];if(i)throw T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}generateSyncMessage(e){at(e,Re);const n=g.automerge_generateSyncMessage(this.__wbg_ptr,e.__wbg_ptr);return T(n)}toJS(e){try{const s=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_toJS(s,this.__wbg_ptr,S(e));var n=m()[s/4+0],r=m()[s/4+1],i=m()[s/4+2];if(i)throw T(r);return T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}materialize(e,n,r){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_materialize(a,this.__wbg_ptr,S(e),se(n)?0:S(n),S(r));var i=m()[a/4+0],s=m()[a/4+1],o=m()[a/4+2];if(o)throw T(s);return T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}getCursor(e,n,r){let i,s;try{const d=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getCursor(d,this.__wbg_ptr,S(e),n,se(r)?0:S(r));var o=m()[d/4+0],a=m()[d/4+1],c=m()[d/4+2],u=m()[d/4+3],f=o,l=a;if(u)throw f=0,l=0,T(c);return i=f,s=l,xe(f,l)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_free(i,s,1)}}getCursorPosition(e,n,r){try{const a=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_getCursorPosition(a,this.__wbg_ptr,S(e),S(n),se(r)?0:S(r));var i=rn()[a/8+0],s=m()[a/4+2],o=m()[a/4+3];if(o)throw T(s);return i}finally{g.__wbindgen_add_to_stack_pointer(16)}}emptyChange(e,n){var r=se(e)?0:$e(e,g.__wbindgen_malloc,g.__wbindgen_realloc),i=ke;const s=g.automerge_emptyChange(this.__wbg_ptr,r,i,!se(n),se(n)?0:n);return T(s)}mark(e,n,r,i,s){try{const c=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_mark(c,this.__wbg_ptr,S(e),S(n),S(r),S(i),S(s));var o=m()[c/4+0],a=m()[c/4+1];if(a)throw T(o)}finally{g.__wbindgen_add_to_stack_pointer(16)}}unmark(e,n,r){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_unmark(o,this.__wbg_ptr,S(e),S(n),S(r));var i=m()[o/4+0],s=m()[o/4+1];if(s)throw T(i)}finally{g.__wbindgen_add_to_stack_pointer(16)}}marks(e,n){try{const o=g.__wbindgen_add_to_stack_pointer(-16);g.automerge_marks(o,this.__wbg_ptr,S(e),se(n)?0:S(n));var r=m()[o/4+0],i=m()[o/4+1],s=m()[o/4+2];if(s)throw T(i);return T(r)}finally{g.__wbindgen_add_to_stack_pointer(16)}}}const Lr=new FinalizationRegistry(t=>g.__wbg_syncstate_free(t>>>0));class Re{static __wrap(e){e=e>>>0;const n=Object.create(Re.prototype);return n.__wbg_ptr=e,Lr.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Lr.unregister(this),e}free(){const e=this.__destroy_into_raw();g.__wbg_syncstate_free(e)}get sharedHeads(){const e=g.syncstate_sharedHeads(this.__wbg_ptr);return T(e)}get lastSentHeads(){const e=g.syncstate_lastSentHeads(this.__wbg_ptr);return T(e)}set lastSentHeads(e){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.syncstate_set_lastSentHeads(i,this.__wbg_ptr,S(e));var n=m()[i/4+0],r=m()[i/4+1];if(r)throw T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}set sentHashes(e){try{const i=g.__wbindgen_add_to_stack_pointer(-16);g.syncstate_set_sentHashes(i,this.__wbg_ptr,S(e));var n=m()[i/4+0],r=m()[i/4+1];if(r)throw T(n)}finally{g.__wbindgen_add_to_stack_pointer(16)}}clone(){const e=g.syncstate_clone(this.__wbg_ptr);return Re.__wrap(e)}}function ho(){const t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(e){T(e)},t.wbg.__wbindgen_error_new=function(e,n){const r=new Error(xe(e,n));return S(r)},t.wbg.__wbindgen_string_get=function(e,n){const r=M(n),i=typeof r=="string"?r:void 0;var s=se(i)?0:$e(i,g.__wbindgen_malloc,g.__wbindgen_realloc),o=ke;m()[e/4+1]=o,m()[e/4+0]=s},t.wbg.__wbindgen_object_clone_ref=function(e){const n=M(e);return S(n)},t.wbg.__wbindgen_string_new=function(e,n){const r=xe(e,n);return S(r)},t.wbg.__wbindgen_number_get=function(e,n){const r=M(n),i=typeof r=="number"?r:void 0;rn()[e/8+1]=se(i)?0:i,m()[e/4+0]=!se(i)},t.wbg.__wbindgen_is_undefined=function(e){return M(e)===void 0},t.wbg.__wbindgen_boolean_get=function(e){const n=M(e);return typeof n=="boolean"?n?1:0:2},t.wbg.__wbindgen_is_null=function(e){return M(e)===null},t.wbg.__wbindgen_number_new=function(e){return S(e)},t.wbg.__wbindgen_is_function=function(e){return typeof M(e)=="function"},t.wbg.__wbindgen_is_string=function(e){return typeof M(e)=="string"},t.wbg.__wbindgen_json_serialize=function(e,n){const r=M(n),i=JSON.stringify(r===void 0?null:r),s=$e(i,g.__wbindgen_malloc,g.__wbindgen_realloc),o=ke;m()[e/4+1]=o,m()[e/4+0]=s},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return S(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const r=M(n).stack,i=$e(r,g.__wbindgen_malloc,g.__wbindgen_realloc),s=ke;m()[e/4+1]=s,m()[e/4+0]=i},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let r,i;try{r=e,i=n,console.error(xe(e,n))}finally{g.__wbindgen_free(r,i,1)}},t.wbg.__wbindgen_is_object=function(e){const n=M(e);return typeof n=="object"&&n!==null},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return M(e)==M(n)},t.wbg.__wbg_String_91fba7ded13ba54c=function(e,n){const r=String(M(n)),i=$e(r,g.__wbindgen_malloc,g.__wbindgen_realloc),s=ke;m()[e/4+1]=s,m()[e/4+0]=i},t.wbg.__wbindgen_bigint_from_i64=function(e){return S(e)},t.wbg.__wbindgen_bigint_from_u64=function(e){const n=BigInt.asUintN(64,e);return S(n)},t.wbg.__wbg_set_20cbc34131e76824=function(e,n,r){M(e)[T(n)]=T(r)},t.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab=function(){return _e(function(e,n){M(e).getRandomValues(M(n))},arguments)},t.wbg.__wbg_randomFillSync_dc1e9a60c158336d=function(){return _e(function(e,n){M(e).randomFillSync(T(n))},arguments)},t.wbg.__wbg_crypto_c48a774b022d20ac=function(e){const n=M(e).crypto;return S(n)},t.wbg.__wbg_process_298734cf255a885d=function(e){const n=M(e).process;return S(n)},t.wbg.__wbg_versions_e2e78e134e3e5d01=function(e){const n=M(e).versions;return S(n)},t.wbg.__wbg_node_1cd7a5d853dbea79=function(e){const n=M(e).node;return S(n)},t.wbg.__wbg_msCrypto_bcb970640f50a1e8=function(e){const n=M(e).msCrypto;return S(n)},t.wbg.__wbg_require_8f08ceecec0f4fee=function(){return _e(function(){const e=module.require;return S(e)},arguments)},t.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(M(e))},t.wbg.__wbg_log_576ca876af0d4a77=function(e,n){console.log(M(e),M(n))},t.wbg.__wbg_get_44be0491f933a435=function(e,n){const r=M(e)[n>>>0];return S(r)},t.wbg.__wbg_length_fff51ee6522a1a18=function(e){return M(e).length},t.wbg.__wbg_new_898a68150f225f2e=function(){const e=new Array;return S(e)},t.wbg.__wbg_newnoargs_581967eacc0e2604=function(e,n){const r=new Function(xe(e,n));return S(r)},t.wbg.__wbg_next_526fc47e980da008=function(e){const n=M(e).next;return S(n)},t.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return _e(function(e){const n=M(e).next();return S(n)},arguments)},t.wbg.__wbg_done_5c1f01fb660d73b5=function(e){return M(e).done},t.wbg.__wbg_value_1695675138684bd5=function(e){const n=M(e).value;return S(n)},t.wbg.__wbg_iterator_97f0c81209c6c35a=function(){return S(Symbol.iterator)},t.wbg.__wbg_get_97b561fb56f034b5=function(){return _e(function(e,n){const r=Reflect.get(M(e),M(n));return S(r)},arguments)},t.wbg.__wbg_call_cb65541d95d71282=function(){return _e(function(e,n){const r=M(e).call(M(n));return S(r)},arguments)},t.wbg.__wbg_new_b51585de1b234aff=function(){const e=new Object;return S(e)},t.wbg.__wbg_length_b3de0c6587c18245=function(e){return M(e).length},t.wbg.__wbg_set_502d29070ea18557=function(e,n,r){M(e)[n>>>0]=T(r)},t.wbg.__wbg_from_d7c216d4616bb368=function(e){const n=Array.from(M(e));return S(n)},t.wbg.__wbg_isArray_4c24b343cb13cfb1=function(e){return Array.isArray(M(e))},t.wbg.__wbg_push_ca1c26067ef907ac=function(e,n){return M(e).push(M(n))},t.wbg.__wbg_unshift_de5fe028746b7cec=function(e,n){return M(e).unshift(M(n))},t.wbg.__wbg_instanceof_ArrayBuffer_39ac22089b74fddb=function(e){let n;try{n=M(e)instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_new_d258248ed531ff54=function(e,n){const r=new Error(xe(e,n));return S(r)},t.wbg.__wbg_call_01734de55d61e11d=function(){return _e(function(e,n,r){const i=M(e).call(M(n),M(r));return S(i)},arguments)},t.wbg.__wbg_instanceof_Date_91c15a742581fc41=function(e){let n;try{n=M(e)instanceof Date}catch{n=!1}return n},t.wbg.__wbg_getTime_5e2054f832d82ec9=function(e){return M(e).getTime()},t.wbg.__wbg_new_cd59bfc8881f487b=function(e){const n=new Date(M(e));return S(n)},t.wbg.__wbg_instanceof_Object_3daa8298c86298be=function(e){let n;try{n=M(e)instanceof Object}catch{n=!1}return n},t.wbg.__wbg_assign_999478a110912e87=function(e,n){const r=Object.assign(M(e),M(n));return S(r)},t.wbg.__wbg_defineProperty_2db1bcb00cd9da96=function(e,n,r){const i=Object.defineProperty(M(e),M(n),M(r));return S(i)},t.wbg.__wbg_entries_e51f29c7bba0c054=function(e){const n=Object.entries(M(e));return S(n)},t.wbg.__wbg_freeze_29fdec6af26e40df=function(e){const n=Object.freeze(M(e));return S(n)},t.wbg.__wbg_keys_386d224d0262f361=function(e){const n=Object.keys(M(e));return S(n)},t.wbg.__wbg_values_88acfd44c7ef08d7=function(e){const n=Object.values(M(e));return S(n)},t.wbg.__wbg_new_732c49c4e03c98a1=function(e,n){const r=new RangeError(xe(e,n));return S(r)},t.wbg.__wbg_apply_f9ecfcbfefaf7349=function(){return _e(function(e,n,r){const i=Reflect.apply(M(e),M(n),M(r));return S(i)},arguments)},t.wbg.__wbg_deleteProperty_568c26e52bc57565=function(){return _e(function(e,n){return Reflect.deleteProperty(M(e),M(n))},arguments)},t.wbg.__wbg_ownKeys_391189872004f097=function(){return _e(function(e){const n=Reflect.ownKeys(M(e));return S(n)},arguments)},t.wbg.__wbg_set_092e06b0f9d71865=function(){return _e(function(e,n,r){return Reflect.set(M(e),M(n),M(r))},arguments)},t.wbg.__wbg_buffer_085ec1f694018c4f=function(e){const n=M(e).buffer;return S(n)},t.wbg.__wbg_concat_c15e9c7e01e04001=function(e,n){const r=M(e).concat(M(n));return S(r)},t.wbg.__wbg_slice_0a0d91ee629d603a=function(e,n,r){const i=M(e).slice(n>>>0,r>>>0);return S(i)},t.wbg.__wbg_for_2256af0eb4ac96ac=function(e,n){const r=Symbol.for(xe(e,n));return S(r)},t.wbg.__wbg_toString_bb5de5cb12268093=function(e){const n=M(e).toString();return S(n)},t.wbg.__wbg_self_1ff1d729e9aae938=function(){return _e(function(){const e=self.self;return S(e)},arguments)},t.wbg.__wbg_window_5f4faef6c12b79ec=function(){return _e(function(){const e=window.window;return S(e)},arguments)},t.wbg.__wbg_globalThis_1d39714405582d3c=function(){return _e(function(){const e=globalThis.globalThis;return S(e)},arguments)},t.wbg.__wbg_global_651f05c6a0944d1c=function(){return _e(function(){const e=global.global;return S(e)},arguments)},t.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(e,n,r){const i=new Uint8Array(M(e),n>>>0,r>>>0);return S(i)},t.wbg.__wbg_new_8125e318e6245eed=function(e){const n=new Uint8Array(M(e));return S(n)},t.wbg.__wbg_set_5cf90238115182c3=function(e,n,r){M(e).set(M(n),r>>>0)},t.wbg.__wbg_length_72e2208bbc0efc61=function(e){return M(e).length},t.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(e){let n;try{n=M(e)instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_newwithlength_e5d69174d6984cd7=function(e){const n=new Uint8Array(e>>>0);return S(n)},t.wbg.__wbg_subarray_13db269f57aa838d=function(e,n,r){const i=M(e).subarray(n>>>0,r>>>0);return S(i)},t.wbg.__wbindgen_debug_string=function(e,n){const r=Xn(M(n)),i=$e(r,g.__wbindgen_malloc,g.__wbindgen_realloc),s=ke;m()[e/4+1]=s,m()[e/4+0]=i},t.wbg.__wbindgen_throw=function(e,n){throw new Error(xe(e,n))},t.wbg.__wbindgen_memory=function(){const e=g.memory;return S(e)},t}function go(t,e){return g=t.exports,Et=null,St=null,xt=null,g}function Ei(t){if(g!==void 0)return g;const e=ho();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const n=new WebAssembly.Instance(t,e);return go(n)}const yo=new Promise(t=>{fetch(Ys).then(e=>{e.arrayBuffer().then(n=>{Ei(n),console.log("sunc"),t()})})}),po=Object.freeze(Object.defineProperty({__proto__:null,Automerge:Ne,SyncState:Re,TextRepresentation:lo,create:eo,decodeChange:ro,decodeSyncMessage:co,decodeSyncState:fo,encodeChange:no,encodeSyncMessage:ao,encodeSyncState:uo,exportSyncState:oo,importSyncState:so,initSync:Ei,initSyncState:io,load:to,promise:yo},Symbol.toStringTag,{value:"Module"}));var _o=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function bo(t,e,...n){if(!Ue(t))throw new RangeError("object cannot be modified outside of a change block");t.insertAt(e,...n)}function wo(t,e,n){if(!Ue(t))throw new RangeError("object cannot be modified outside of a change block");t.deleteAt(e,n)}function vo(t){Js(t)}vo(po);function mo(t){return Q(t).handle}function vr(t){return typeof t=="object"?t:{actor:t}}function kn(t){const e=vr(t),n=!!e.freeze,r=e.patchCallback,i=!e.enableTextV2,s=e.actor,o=pe.create({actor:s,text_v1:i});o.enableFreeze(!!e.freeze),o.registerDatatype("counter",u=>new Lt(u));const a=e.enableTextV2||!1;return a?o.registerDatatype("str",u=>new En(u)):o.registerDatatype("text",u=>new Be(u)),o.materialize("/",void 0,{handle:o,heads:void 0,freeze:n,patchCallback:r,textV2:a})}function xo(t,e){const n=Q(t),r=n.handle;return n.handle.materialize("/",e,Object.assign(Object.assign({},n),{handle:r,heads:e}))}function So(t,e){const n=Q(t),r=n.heads,i=vr(e),s=n.handle.fork(i.actor,r);s.updateDiffCursor();const o=_o(n,["heads"]);return o.patchCallback=i.patchCallback,s.applyPatches(t,Object.assign(Object.assign({},o),{handle:s}))}function Eo(t){return Q(t).handle.free()}function Ao(t,e){return Ut(kn(e),"from",{},n=>Object.assign(n,t)).newDoc}function Ai(t,e,n){if(typeof e=="function")return Ut(t,"change",{},e).newDoc;if(typeof n=="function")return typeof e=="string"&&(e={message:e}),Ut(t,"change",e,n).newDoc;throw RangeError("Invalid args for change")}function ki(t,e,n,r){if(typeof n=="function")return Ut(t,"changeAt",{},n,e);if(typeof r=="function")return typeof n=="string"&&(n={message:n}),Ut(t,"changeAt",n,r,e);throw RangeError("Invalid args for changeAt")}function _t(t,e,n,r){if(n==null)return t;const i=Q(t),s=Object.assign(Object.assign({},i),{heads:void 0});let o;if(r!=null){const{value:a,patches:c}=i.handle.applyAndReturnPatches(t,s);c.length>0&&r(c,{before:t,after:a,source:e}),o=a}else o=i.handle.applyPatches(t,s);return i.heads=n,o}function Ut(t,e,n,r,i){if(typeof r!="function")throw new RangeError("invalid change function");const s=Q(t);if(t===void 0||s===void 0)throw new RangeError("must be the document root");if(s.heads)throw new RangeError("Attempting to change an outdated document.  Use Automerge.clone() if you wish to make a writable copy.");if(Ue(t))throw new RangeError("Calls to Automerge.change cannot be nested");i&&s.handle.isolate(i);const o=s.handle.getHeads();try{s.heads=o;const a=Vs(s.handle,s.textV2);if(r(a),s.handle.pendingOps()===0)return s.heads=void 0,i!=null&&s.handle.integrate(),{newDoc:t,newHeads:null};{const c=s.handle.commit(n.message,n.time);return s.handle.integrate(),{newDoc:_t(t,e,o,n.patchCallback||s.patchCallback),newHeads:c!=null?[c]:null}}}catch(a){throw s.heads=void 0,s.handle.rollback(),a}}function Ci(t,e){e===void 0&&(e={}),typeof e=="string"&&(e={message:e});const n=Q(t);if(n.heads)throw new RangeError("Attempting to change an outdated document.  Use Automerge.clone() if you wish to make a writable copy.");if(Ue(t))throw new RangeError("Calls to Automerge.change cannot be nested");const r=n.handle.getHeads();return n.handle.emptyChange(e.message,e.time),_t(t,"emptyChange",r)}function ko(t,e){const n=vr(e),r=n.actor,i=n.patchCallback,s=!n.enableTextV2,o=n.unchecked||!1,a=n.allowMissingChanges||!1,c=n.convertRawStringsToText||!1,u=pe.load(t,{text_v1:s,actor:r,unchecked:o,allowMissingDeps:a,convertRawStringsToText:c});u.enableFreeze(!!n.freeze),u.registerDatatype("counter",d=>new Lt(d));const f=n.enableTextV2||!1;return f?u.registerDatatype("str",d=>new En(d)):u.registerDatatype("text",d=>new Be(d)),u.materialize("/",void 0,{handle:u,heads:void 0,patchCallback:i,textV2:f})}function mr(t,e,n){n||(n={});const r=Q(t);if(r.heads)throw new RangeError("Attempting to change an out of date document - set at: "+wr(t));if(Ue(t))throw new RangeError("Calls to Automerge.change cannot be nested");const i=r.handle.getHeads();return r.handle.loadIncremental(e),_t(t,"loadIncremental",i,n.patchCallback||r.patchCallback)}function Co(t){const e=Q(t);if(e.heads)throw new RangeError("Attempting to change an out of date document - set at: "+wr(t));if(Ue(t))throw new RangeError("Calls to Automerge.change cannot be nested");return e.handle.saveIncremental()}function Oi(t){return Q(t).handle.save()}function Oo(t,e){const n=Q(t);if(n.heads)throw new RangeError("Attempting to change an out of date document - set at: "+wr(t));const r=n.handle.getHeads(),i=Q(e),s=n.handle.getChangesAdded(i.handle);return n.handle.applyChanges(s),_t(t,"merge",r,n.patchCallback)}function Io(t){return Q(t).handle.getActorId()}function Su(t,e){const n=Q(t,!1);if(n.textV2)throw new Error("use unstable.getConflicts for an unstable document");const r=Te(t);if(r!=null)return qs(n.handle,r,e)}function jo(t){return Q(t).handle.getLastLocalChange()||void 0}function Ii(t,e){if(e){const n=Q(t,!1),r=Te(t);return!n||!r?null:n.handle.get(r,e)}else return Te(t)}function To(t,e){return Q(e).handle.getChanges(Ie(t))}function ji(t){return Q(t).handle.getChanges([])}function Ti(t,e,n){const r=Q(t);if(n||(n={}),r.heads)throw new RangeError("Attempting to change an outdated document.  Use Automerge.clone() if you wish to make a writable copy.");if(Ue(t))throw new RangeError("Calls to Automerge.change cannot be nested");const i=r.handle.getHeads();return r.handle.applyChanges(e),r.heads=i,[_t(t,"applyChanges",i,n.patchCallback||r.patchCallback)]}function Ro(t){const e=Q(t).textV2,n=ji(t);return n.map((r,i)=>({get change(){return Li(r)},get snapshot(){const[s]=Ti(kn({enableTextV2:e}),n.slice(0,i+1));return s}}))}function Ri(t,e,n){return $r(e,"before"),$r(n,"after"),Q(t).handle.diff(e,n)}function $r(t,e){if(!Array.isArray(t))throw new Error(`${e} must be an array`)}function Ui(t,e){if(!Br(t)||!Br(e))return t===e;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==r[i]||!Ui(t[n[i]],e[r[i]]))return!1;return!0}function Mi(t){const e=pe.importSyncState(t),n=pe.encodeSyncState(e);return e.free(),n}function Di(t){const e=pe.decodeSyncState(t),n=pe.exportSyncState(e);return e.free(),n}function Pi(t,e){const n=Q(t),r=pe.importSyncState(e),i=n.handle.generateSyncMessage(r);return[pe.exportSyncState(r),i]}function Fi(t,e,n,r){const i=pe.importSyncState(e);r||(r={});const s=Q(t);if(s.heads)throw new RangeError("Attempting to change an outdated document.  Use Automerge.clone() if you wish to make a writable copy.");if(Ue(t))throw new RangeError("Calls to Automerge.change cannot be nested");const o=s.handle.getHeads();s.handle.receiveSyncMessage(i,n);const a=pe.exportSyncState(i);return[_t(t,"receiveSyncMessage",o,r.patchCallback||s.patchCallback),a,null]}function Ni(){return pe.exportSyncState(pe.initSyncState())}function Uo(t){return pe.encodeChange(t)}function Li(t){return pe.decodeChange(t)}function Mo(t){return pe.encodeSyncMessage(t)}function Yn(t){return pe.decodeSyncMessage(t)}function Do(t,e){return Q(t).handle.getMissingDeps(e)}function Ie(t){const e=Q(t);return e.heads||e.handle.getHeads()}function Po(t){Q(t).handle.dump()}function Fo(t){const e=Q(t),n=e.handle.enableFreeze(!1),r=e.handle.materialize();return e.handle.enableFreeze(n),r}function No(t){return typeof t=="object"&&t!==null?Ii(t)==="_root"&&!!Reflect.get(t,He):!1}function Br(t){return typeof t=="object"&&t!==null}function $i(t,e){return Q(t).handle.saveSince(e)}const Lo=mo;function xr(t){const e=Cn(t);return e.enableTextV2=!0,kn(e)}function $o(t,e){const n=Cn(e);return n.enableTextV2=!0,So(t,n)}function Bo(t,e){const n=Cn(e);return n.enableTextV2=!0,Ao(t,n)}function Vo(t,e){const n=Cn(e);return n.enableTextV2=!0,n.patchCallback?mr(kn(n),t):ko(t,n)}function Cn(t){return typeof t=="object"?t:{actor:t}}function zo(t,e,n){if(typeof n=="string"){if(/^[0-9]+@[0-9a-zA-z]+$/.test(n))return t.handle.getCursorPosition(e,n);throw new RangeError("index must be a number or cursor")}else return n}function Ho(t,e,n,r,i){if(!Ue(t))throw new RangeError("object cannot be modified outside of a change block");const s=Q(t,!1),o=Te(t);if(!o)throw new RangeError("invalid object for splice");Gs(t),e.unshift(o);const a=e.join("/");n=zo(s,a,n);try{return s.handle.splice(a,n,r,i)}catch(c){throw new RangeError(`Cannot splice: ${c}`)}}function Wo(t,e,n){const r=Q(t,!1),i=Te(t);if(!i)throw new RangeError("invalid object for getCursor");e.unshift(i);const s=e.join("/");try{return r.handle.getCursor(s,n)}catch(o){throw new RangeError(`Cannot getCursor: ${o}`)}}function Ko(t,e,n){const r=Q(t,!1),i=Te(t);if(!i)throw new RangeError("invalid object for getCursorPosition");e.unshift(i);const s=e.join("/");try{return r.handle.getCursorPosition(s,n)}catch(o){throw new RangeError(`Cannot getCursorPosition: ${o}`)}}function Jo(t,e,n,r,i){if(!Ue(t))throw new RangeError("object cannot be modified outside of a change block");const s=Q(t,!1),o=Te(t);if(!o)throw new RangeError("invalid object for mark");e.unshift(o);const a=e.join("/");try{return s.handle.mark(a,n,r,i)}catch(c){throw new RangeError(`Cannot mark: ${c}`)}}function Go(t,e,n,r){if(!Ue(t))throw new RangeError("object cannot be modified outside of a change block");const i=Q(t,!1),s=Te(t);if(!s)throw new RangeError("invalid object for unmark");e.unshift(s);const o=e.join("/");try{return i.handle.unmark(o,n,r)}catch(a){throw new RangeError(`Cannot unmark: ${a}`)}}function qo(t,e){const n=Q(t,!1),r=Te(t);if(!r)throw new RangeError("invalid object for unmark");e.unshift(r);const i=e.join("/");try{return n.handle.marks(i)}catch(s){throw new RangeError(`Cannot call marks(): ${s}`)}}function Xo(t,e){const n=Q(t,!1);if(!n.textV2)throw new Error("use getConflicts for a stable document");const r=Te(t);if(r!=null)return Xs(n.handle,r,e)}const Eu=Object.freeze(Object.defineProperty({__proto__:null,Counter:Lt,Float64:Ks,Int:Hs,RawString:En,Uint:Ws,applyChanges:Ti,change:Ai,changeAt:ki,clone:$o,decodeChange:Li,decodeSyncMessage:Yn,decodeSyncState:Di,deleteAt:wo,diff:Ri,dump:Po,emptyChange:Ci,encodeChange:Uo,encodeSyncMessage:Mo,encodeSyncState:Mi,equals:Ui,free:Eo,from:Bo,generateSyncMessage:Pi,getActorId:Io,getAllChanges:ji,getBackend:Lo,getChanges:To,getConflicts:Xo,getCursor:Wo,getCursorPosition:Ko,getHeads:Ie,getHistory:Ro,getLastLocalChange:jo,getMissingDeps:Do,getObjectId:Ii,init:xr,initSyncState:Ni,insertAt:bo,isAutomerge:No,load:Vo,loadIncremental:mr,mark:Jo,marks:qo,merge:Oo,receiveSyncMessage:Fi,save:Oi,saveIncremental:Co,saveSince:$i,splice:Ho,toJS:Fo,unmark:Go,view:xo},Symbol.toStringTag,{value:"Module"}));var Yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qn={exports:{}},Mn,Vr;function Qo(){if(Vr)return Mn;Vr=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;Mn=function(f,l){l=l||{};var d=typeof f;if(d==="string"&&f.length>0)return o(f);if(d==="number"&&isFinite(f))return l.long?c(f):a(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(l){var d=parseFloat(l[1]),h=(l[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"weeks":case"week":case"w":return d*i;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(f){var l=Math.abs(f);return l>=r?Math.round(f/r)+"d":l>=n?Math.round(f/n)+"h":l>=e?Math.round(f/e)+"m":l>=t?Math.round(f/t)+"s":f+"ms"}function c(f){var l=Math.abs(f);return l>=r?u(f,l,r,"day"):l>=n?u(f,l,n,"hour"):l>=e?u(f,l,e,"minute"):l>=t?u(f,l,t,"second"):f+" ms"}function u(f,l,d,h){var p=l>=d*1.5;return Math.round(f/d)+" "+h+(p?"s":"")}return Mn}function Zo(t){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=o,n.humanize=Qo(),n.destroy=u,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let l=0;for(let d=0;d<f.length;d++)l=(l<<5)-l+f.charCodeAt(d),l|=0;return n.colors[Math.abs(l)%n.colors.length]}n.selectColor=e;function n(f){let l,d=null,h,p;function _(...x){if(!_.enabled)return;const A=_,k=Number(new Date),w=k-(l||k);A.diff=w,A.prev=l,A.curr=k,l=k,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let P=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(E,j)=>{if(E==="%%")return"%";P++;const U=n.formatters[j];if(typeof U=="function"){const D=x[P];E=U.call(A,D),x.splice(P,1),P--}return E}),n.formatArgs.call(A,x),(A.log||n.log).apply(A,x)}return _.namespace=f,_.useColors=n.useColors(),_.color=n.selectColor(f),_.extend=r,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(h!==n.namespaces&&(h=n.namespaces,p=n.enabled(f)),p),set:x=>{d=x}}),typeof n.init=="function"&&n.init(_),_}function r(f,l){const d=n(this.namespace+(typeof l>"u"?":":l)+f);return d.log=this.log,d}function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let l;const d=(typeof f=="string"?f:"").split(/[\s,]+/),h=d.length;for(l=0;l<h;l++)d[l]&&(f=d[l].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.slice(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function s(){const f=[...n.names.map(a),...n.skips.map(a).map(l=>"-"+l)].join(",");return n.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let l,d;for(l=0,d=n.skips.length;l<d;l++)if(n.skips[l].test(f))return!1;for(l=0,d=n.names.length;l<d;l++)if(n.names[l].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var ea=Zo;(function(t,e){e.formatArgs=r,e.save=i,e.load=s,e.useColors=n,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let f=0,l=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(f++,d==="%c"&&(l=f))}),c.splice(l,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=ea(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Qn,Qn.exports);var ta=Qn.exports;const Ve=Sr(ta);var Bi={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,l,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new i(f,l||c,d),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,l;if(this._eventsCount===0)return u;for(l in f=this._events)e.call(f,l)&&u.push(n?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var d=0,h=l.length,p=new Array(h);d<h;d++)p[d]=l[d].fn;return p},a.prototype.listenerCount=function(u){var f=n?n+u:u,l=this._events[f];return l?l.fn?1:l.length:0},a.prototype.emit=function(u,f,l,d,h,p){var _=n?n+u:u;if(!this._events[_])return!1;var x=this._events[_],A=arguments.length,k,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),A){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,l),!0;case 4:return x.fn.call(x.context,f,l,d),!0;case 5:return x.fn.call(x.context,f,l,d,h),!0;case 6:return x.fn.call(x.context,f,l,d,h,p),!0}for(w=1,k=new Array(A-1);w<A;w++)k[w-1]=arguments[w];x.fn.apply(x.context,k)}else{var P=x.length,L;for(w=0;w<P;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),A){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,f);break;case 3:x[w].fn.call(x[w].context,f,l);break;case 4:x[w].fn.call(x[w].context,f,l,d);break;default:if(!k)for(L=1,k=new Array(A-1);L<A;L++)k[L-1]=arguments[L];x[w].fn.apply(x[w].context,k)}}return!0},a.prototype.on=function(u,f,l){return s(this,u,f,l,!1)},a.prototype.once=function(u,f,l){return s(this,u,f,l,!0)},a.prototype.removeListener=function(u,f,l,d){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===f&&(!d||p.once)&&(!l||p.context===l)&&o(this,h);else{for(var _=0,x=[],A=p.length;_<A;_++)(p[_].fn!==f||d&&!p[_].once||l&&p[_].context!==l)&&x.push(p[_]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Bi);var na=Bi.exports;const Bt=Sr(na);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var N=function(){return N=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N.apply(this,arguments)};function Er(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function re(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ne;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(ne||(ne={}));var ht;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(ht||(ht={}));var Zn=ne.Start,Ar=ne.Stop,Vt=ne.Raise,On=ne.Send,Vi=ne.Cancel,ra=ne.NullEvent,kr=ne.Assign;ne.After;ne.DoneState;var zi=ne.Log,ia=ne.Init,er=ne.Invoke;ne.ErrorExecution;var zr=ne.ErrorPlatform,sa=ne.ErrorCustom,Hi=ne.Update,oa=ne.Choose,aa=ne.Pure,Wi=".",Hr={},tr="xstate.guard",ca="",Kt;function Cr(t,e,n){n===void 0&&(n=Wi);var r=Tt(t,n),i=Tt(e,n);return te(i)?te(r)?i===r:!1:te(r)?r in i:Object.keys(r).every(function(s){return s in i?Cr(r[s],i[s]):!1})}function Ki(t){try{return te(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function nr(t,e){try{return bt(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function ua(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function Tt(t,e){if(ua(t))return t.value;if(bt(t))return gn(t);if(typeof t!="string")return t;var n=nr(t,e);return gn(n)}function gn(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function At(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var s=r[i];n[s]=e(t[s],s,t,i)}return n}function Wr(t,e,n){var r,i,s={};try{for(var o=Y(Object.keys(t)),a=o.next();!a.done;a=o.next()){var c=a.value,u=t[c];n(u)&&(s[c]=e(u,c,t))}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}var fa=function(t){return function(e){var n,r,i=e;try{for(var s=Y(t),o=s.next();!o.done;o=s.next()){var a=o.value;i=i[a]}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}};function la(t,e){return function(n){var r,i,s=n;try{for(var o=Y(t),a=o.next();!a.done;a=o.next()){var c=a.value;s=s[e][c]}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}}function sn(t){if(!t)return[[]];if(te(t))return[[t]];var e=oe(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:sn(t[n]).map(function(i){return[n].concat(i)})}));return e}function oe(t){var e;return(e=[]).concat.apply(e,re([],Z(t),!1))}function Ji(t){return bt(t)?t:[t]}function Oe(t){return t===void 0?[]:Ji(t)}function yn(t,e,n){var r,i;if(ee(t))return t(e,n.data);var s={};try{for(var o=Y(Object.keys(t)),a=o.next();!a.done;a=o.next()){var c=a.value,u=t[c];ee(u)?s[c]=u(e,n.data):s[c]=u}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function da(t){return/^(done|error)\./.test(t)}function Kr(t){return!!(t instanceof Promise||t!==null&&(ee(t)||typeof t=="object")&&ee(t.then))}function ha(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function ga(t,e){var n,r,i=Z([[],[]],2),s=i[0],o=i[1];try{for(var a=Y(t),c=a.next();!c.done;c=a.next()){var u=c.value;e(u)?s.push(u):o.push(u)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[s,o]}function Gi(t,e){return At(t.states,function(n,r){if(n){var i=(te(e)?void 0:e[r])||(n?n.current:void 0);if(i)return{current:i,states:Gi(n,i)}}})}function ya(t,e){return{current:e,states:Gi(t,e)}}function Jr(t,e,n,r){var i=t&&n.reduce(function(s,o){var a,c,u=o.assignment,f={state:r,action:o,_event:e},l={};if(ee(u))l=u(s,e.data,f);else try{for(var d=Y(Object.keys(u)),h=d.next();!h.done;h=d.next()){var p=h.value,_=u[p];l[p]=ee(_)?_(s,e.data,f):_}}catch(x){a={error:x}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return Object.assign({},s,l)},t);return i}var pa=function(){};function bt(t){return Array.isArray(t)}function ee(t){return typeof t=="function"}function te(t){return typeof t=="string"}function qi(t,e){if(t)return te(t)?{type:tr,name:t,predicate:e?e[t]:void 0}:ee(t)?{type:tr,name:t.name,predicate:t}:t}function _a(t){try{return"subscribe"in t&&ee(t.subscribe)}catch{return!1}}var Ge=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Kt={},Kt[Ge]=function(){return this},Kt[Symbol.observable]=function(){return this};function gt(t){return!!t&&"__xstatenode"in t}function ba(t){return!!t&&typeof t.send=="function"}function In(t,e){return te(t)||typeof t=="number"?N({type:t},e):t}function ye(t,e){if(!te(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=In(t);return N({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function et(t,e){var n=Ji(e).map(function(r){return typeof r>"u"||typeof r=="string"||gt(r)?{target:r,event:t}:N(N({},r),{event:t})});return n}function wa(t){if(!(t===void 0||t===ca))return Oe(t)}function Xi(t,e,n,r,i){var s=t.options.guards,o={state:i,cond:e,_event:r};if(e.type===tr)return(s?.[e.name]||e.predicate)(n,r.data,o);var a=s?.[e.type];if(!a)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return a(n,r.data,o)}function Yi(t){return typeof t=="string"?{type:t}:t}function on(t,e,n){var r=function(){},i=typeof t=="object",s=i?t:null;return{next:((i?t.next:t)||r).bind(s),error:((i?t.error:e)||r).bind(s),complete:((i?t.complete:n)||r).bind(s)}}function Jt(t,e){return"".concat(t,":invocation[").concat(e,"]")}function rr(t){return(t.type===Vt||t.type===On&&t.to===ht.Internal)&&typeof t.delay!="number"}var ft=ye({type:ia});function ir(t,e){return e&&e[t]||void 0}function Mt(t,e){var n;if(te(t)||typeof t=="number"){var r=ir(t,e);ee(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(ee(t))n={type:t.name||t.toString(),exec:t};else{var r=ir(t.type,e);if(ee(r))n=N(N({},t),{exec:r});else if(r){var i=r.type||t.type;n=N(N(N({},r),t),{type:i})}else n=t}return n}var qe=function(t,e){if(!t)return[];var n=bt(t)?t:[t];return n.map(function(r){return Mt(r,e)})};function Or(t){var e=Mt(t);return N(N({id:te(t)?t:e.id},e),{type:e.type})}function va(t,e){return{type:Vt,event:typeof t=="function"?t:In(t),delay:e?e.delay:void 0,id:e?.id}}function ma(t,e,n,r){var i={_event:n},s=ye(ee(t.event)?t.event(e,n.data,i):t.event),o;if(te(t.delay)){var a=r&&r[t.delay];o=ee(a)?a(e,n.data,i):a}else o=ee(t.delay)?t.delay(e,n.data,i):t.delay;return N(N({},t),{type:Vt,_event:s,delay:o})}function xa(t,e){return{to:e?e.to:void 0,type:On,event:ee(t)?t:In(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:ee(t)?t.name:Ki(t)}}function Sa(t,e,n,r){var i={_event:n},s=ye(ee(t.event)?t.event(e,n.data,i):t.event),o;if(te(t.delay)){var a=r&&r[t.delay];o=ee(a)?a(e,n.data,i):a}else o=ee(t.delay)?t.delay(e,n.data,i):t.delay;var c=ee(t.to)?t.to(e,n.data,i):t.to;return N(N({},t),{to:c,_event:s,event:s.data,delay:o})}var Ea=function(t,e,n){return N(N({},t),{value:te(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},Aa=function(t){return{type:Vi,sendId:t}};function ka(t){var e=Or(t);return{type:ne.Start,activity:e,exec:void 0}}function Ca(t){var e=ee(t)?t:Or(t);return{type:ne.Stop,activity:e,exec:void 0}}function Oa(t,e,n){var r=ee(t.activity)?t.activity(e,n.data):t.activity,i=typeof r=="string"?{id:r}:r,s={type:ne.Stop,activity:i};return s}var Ia=function(t){return{type:kr,assignment:t}};function ja(t,e){var n=e?"#".concat(e):"";return"".concat(ne.After,"(").concat(t,")").concat(n)}function Gt(t,e){var n="".concat(ne.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function an(t,e){var n="".concat(ne.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function kt(t,e){var n="".concat(ne.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var Ta=function(t){var e,n,r=[];try{for(var i=Y(t),s=i.next();!s.done;s=i.next())for(var o=s.value,a=0;a<o.actions.length;){if(o.actions[a].type===kr){r.push(o.actions[a]),o.actions.splice(a,1);continue}a++}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r};function pn(t,e,n,r,i,s,o){o===void 0&&(o=!1);var a=o?[]:Ta(i),c=a.length?Jr(n,r,a,e):n,u=o?[n]:void 0,f=[];function l(p,_){var x;switch(_.type){case Vt:{var A=ma(_,c,r,t.options.delays);return s&&typeof A.delay=="number"&&s(A,c,r),A}case On:var k=Sa(_,c,r,t.options.delays);return s&&k.to!==ht.Internal&&(p==="entry"?f.push(k):s(k,c,r)),k;case zi:{var w=Ea(_,c,r);return s?.(w,c,r),w}case oa:{var P=_,L=(x=P.conds.find(function(R){var O=qi(R.cond,t.options.guards);return!O||Xi(t,O,c,r,s?void 0:e)}))===null||x===void 0?void 0:x.actions;if(!L)return[];var E=Z(pn(t,e,c,r,[{type:p,actions:qe(Oe(L),t.options.actions)}],s,o),2),j=E[0],U=E[1];return c=U,u?.push(c),j}case aa:{var L=_.get(c,r.data);if(!L)return[];var D=Z(pn(t,e,c,r,[{type:p,actions:qe(Oe(L),t.options.actions)}],s,o),2),B=D[0],V=D[1];return c=V,u?.push(c),B}case Ar:{var w=Oa(_,c,r);return s?.(w,n,r),w}case kr:{c=Jr(c,r,[_],s?void 0:e),u?.push(c);break}default:var K=Mt(_,t.options.actions),b=K.exec;if(s)s(K,c,r);else if(b&&u){var F=u.length-1,I=N(N({},K),{exec:function(R){for(var O=[],z=1;z<arguments.length;z++)O[z-1]=arguments[z];b.apply(void 0,re([u[F]],Z(O),!1))}});K=I}return K}}function d(p){var _,x,A=[];try{for(var k=Y(p.actions),w=k.next();!w.done;w=k.next()){var P=w.value,L=l(p.type,P);L&&(A=A.concat(L))}}catch(E){_={error:E}}finally{try{w&&!w.done&&(x=k.return)&&x.call(k)}finally{if(_)throw _.error}}return f.forEach(function(E){s(E,c,r)}),f.length=0,A}var h=oe(i.map(d));return[h,c]}var Gr=[],st=function(t,e){Gr.push(t);var n=e(t);return Gr.pop(),n};function Qi(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[Ge]=function(){return this},e}function Ra(t,e,n,r){var i,s=Yi(t.src),o=(i=e?.options.services)===null||i===void 0?void 0:i[s.type],a=t.data?yn(t.data,n,r):void 0,c=o?Zi(o,t.id,a):Qi(t.id);return c.meta=t,c}function Zi(t,e,n){var r=Qi(e);if(r.deferred=!0,gt(t)){var i=r.state=st(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return i}}return r}function Ua(t){try{return typeof t.send=="function"}catch{return!1}}function Ma(t){return Ua(t)&&"id"in t}function Da(t){var e;return N((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[Ge]=function(){return this},e),t)}var _n=function(t){return t.type==="atomic"||t.type==="final"};function es(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function Dt(t){return es(t).filter(function(e){return e.type!=="history"})}function ts(t){var e=[t];return _n(t)?e:e.concat(oe(Dt(t).map(ts)))}function Ct(t,e){var n,r,i,s,o,a,c,u,f=new Set(t),l=sr(f),d=new Set(e);try{for(var h=Y(d),p=h.next();!p.done;p=h.next())for(var _=p.value,x=_.parent;x&&!d.has(x);)d.add(x),x=x.parent}catch(D){n={error:D}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var A=sr(d);try{for(var k=Y(d),w=k.next();!w.done;w=k.next()){var _=w.value;if(_.type==="compound"&&(!A.get(_)||!A.get(_).length))l.get(_)?l.get(_).forEach(function(B){return d.add(B)}):_.initialStateNodes.forEach(function(B){return d.add(B)});else if(_.type==="parallel")try{for(var P=(o=void 0,Y(Dt(_))),L=P.next();!L.done;L=P.next()){var E=L.value;d.has(E)||(d.add(E),l.get(E)?l.get(E).forEach(function(B){return d.add(B)}):E.initialStateNodes.forEach(function(B){return d.add(B)}))}}catch(B){o={error:B}}finally{try{L&&!L.done&&(a=P.return)&&a.call(P)}finally{if(o)throw o.error}}}}catch(D){i={error:D}}finally{try{w&&!w.done&&(s=k.return)&&s.call(k)}finally{if(i)throw i.error}}try{for(var j=Y(d),U=j.next();!U.done;U=j.next())for(var _=U.value,x=_.parent;x&&!d.has(x);)d.add(x),x=x.parent}catch(D){c={error:D}}finally{try{U&&!U.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}return d}function ns(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(_n(r))return r.key}else return{}}var i={};return n.forEach(function(s){i[s.key]=ns(s,e)}),i}function sr(t){var e,n,r=new Map;try{for(var i=Y(t),s=i.next();!s.done;s=i.next()){var o=s.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Pa(t,e){var n=Ct([t],e);return ns(t,sr(n))}function Ot(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function Fa(t){return re([],Z(new Set(oe(re([],Z(t.map(function(e){return e.ownEvents})),!1)))),!1)}function cn(t,e){return e.type==="compound"?Dt(e).some(function(n){return n.type==="final"&&Ot(t,n)}):e.type==="parallel"?Dt(e).every(function(n){return cn(t,n)}):!1}function Na(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function qr(t){return new Set(oe(t.map(function(e){return e.tags})))}function rs(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(te(t)||te(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(i){return rs(t[i],e[i])})}function La(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function $a(t,e){var n=t.exec,r=N(N({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var De=function(){function t(e){var n=this,r;this.actions=[],this.activities=Hr,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Hr,this.meta=Na(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Fa(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=ft;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=ft;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),te(e))return[e];var i=Object.keys(e);return i.concat.apply(i,re([],Z(i.map(function(s){return r.toStrings(e[s],n).map(function(o){return s+n+o})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=Er(e,["configuration","transitions","tags","machine"]);return N(N({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return Cr(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;pa(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!r?.transitions.length&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},t}(),Ba={deferEvents:!1},Xr=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=N(N({},Ba),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),Dn=new Map,Va=0,wt={bookId:function(){return"x:".concat(Va++)},register:function(t,e){return Dn.set(t,e),t},get:function(t){return Dn.get(t)},free:function(t){Dn.delete(t)}};function Ir(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function za(){var t=Ir();if(t&&"__xstate__"in t)return t.__xstate__}function Ha(t){if(Ir()){var e=za();e&&e.register(t)}}function Wa(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,i=[],s=!1,o=function(){if(!s){for(s=!0;i.length>0;){var u=i.shift();n=t.transition(n,u,c),r.forEach(function(f){return f.next(n)})}s=!1}},a=Da({id:e.id,send:function(u){i.push(u),o()},getSnapshot:function(){return n},subscribe:function(u,f,l){var d=on(u,f,l);return r.add(d),d.next(n),{unsubscribe:function(){r.delete(d)}}}}),c={parent:e.parent,self:a,id:e.id||"anonymous",observers:r};return n=t.start?t.start(c):n,a}var Ka={sync:!1,autoForward:!1},le;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(le||(le={}));var Ja=function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=le.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(f,l){if(bt(f))return r.batch(f),r.state;var d=ye(In(f,l));if(r.status===le.Stopped)return r.state;if(r.status!==le.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(d.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(d.data)));return r.scheduler.schedule(function(){r.forward(d);var h=r._nextState(d);r.update(h,d)}),r._state},this.sendTo=function(f,l,d){var h=r.parent&&(l===ht.Parent||r.parent.id===l),p=h?r.parent:te(l)?l===ht.Internal?r:r.children.get(l)||wt.get(l):ba(l)?l:void 0;if(!p){if(!h)throw new Error("Unable to send event to child '".concat(l,"' from service '").concat(r.id,"'."));return}if("machine"in p){if(r.status!==le.Stopped||r.parent!==p||r.state.done){var _=N(N({},f),{name:f.name===sa?"".concat(kt(r.id)):f.name,origin:r.sessionId});!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([p,_]):p.send(_)}}else!d&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([p,f.data]):p.send(f.data)},this._exec=function(f,l,d,h){h===void 0&&(h=r.machine.options.actions);var p=f.exec||ir(f.type,h),_=ee(p)?p:p?p.exec:f.exec;if(_)try{return _(l,d.data,r.machine.config.predictableActionArguments?{action:f,_event:d}:{action:f,state:r.state,_event:d})}catch(F){throw r.parent&&r.parent.send({type:"xstate.error",data:F}),F}switch(f.type){case Vt:{var x=f;r.defer(x);break}case On:var A=f;if(typeof A.delay=="number"){r.defer(A);return}else A.to?r.sendTo(A._event,A.to,d===ft):r.send(A._event);break;case Vi:r.cancel(f.sendId);break;case Zn:{if(r.status!==le.Running)return;var k=f.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[k.id||k.type])break;if(k.type===ne.Invoke){var w=Yi(k.src),P=r.machine.options.services?r.machine.options.services[w.type]:void 0,L=k.id,E=k.data,j="autoForward"in k?k.autoForward:!!k.forward;if(!P)return;var U=E?yn(E,l,d):void 0;if(typeof P=="string")return;var D=ee(P)?P(l,d.data,{data:U,src:w,meta:k.meta}):P;if(!D)return;var B=void 0;gt(D)&&(D=U?D.withContext(U):D,B={autoForward:j}),r.spawn(D,L,B)}else r.spawnActivity(k);break}case Ar:{r.stopChild(f.activity.id);break}case zi:var V=f,K=V.label,b=V.value;K?r.logger(K,b):r.logger(b);break}};var i=N(N({},t.defaultOptions),n),s=i.clock,o=i.logger,a=i.parent,c=i.id,u=c!==void 0?c:e.id;this.id=u,this.logger=o,this.clock=s,this.parent=a,this.options=i,this.scheduler=new Xr({deferEvents:this.options.deferEvents}),this.sessionId=wt.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:st(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,i;try{for(var s=Y(e.actions),o=s.next();!o.done;o=s.next()){var a=o.value;this.exec(a,e,n)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,i,s,o,a,c,u,f,l=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===ft)&&this.options.execute)this.execute(this.state);else for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);if(this.children.forEach(function(D){l.state.children[D.id]=D}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var h=Y(this.eventListeners),p=h.next();!p.done;p=h.next()){var _=p.value;_(e.event)}}catch(D){r={error:D}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}try{for(var x=Y(this.listeners),A=x.next();!A.done;A=x.next()){var _=A.value;_(e,e.event)}}catch(D){s={error:D}}finally{try{A&&!A.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}try{for(var k=Y(this.contextListeners),w=k.next();!w.done;w=k.next()){var P=w.value;P(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(D){a={error:D}}finally{try{w&&!w.done&&(c=k.return)&&c.call(k)}finally{if(a)throw a.error}}if(this.state.done){var L=e.configuration.find(function(D){return D.type==="final"&&D.parent===l.machine}),E=L&&L.doneData?yn(L.doneData,e.context,n):void 0;this._doneEvent=an(this.id,E);try{for(var j=Y(this.doneListeners),U=j.next();!U.done;U=j.next()){var _=U.value;_(this._doneEvent)}}catch(D){u={error:D}}finally{try{U&&!U.done&&(f=j.return)&&f.call(j)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),wt.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===le.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var i=this,s=on(e,n,r);this.listeners.add(s.next),this.status!==le.NotStarted&&s.next(this.state);var o=function(){i.doneListeners.delete(o),i.stopListeners.delete(o),s.complete()};return this.status===le.Stopped?s.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){i.listeners.delete(s.next),i.doneListeners.delete(o),i.stopListeners.delete(o)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===le.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===le.Running)return this;this.machine._init(),wt.register(this.sessionId,this),this.initialized=!0,this.status=le.Running;var r=e===void 0?this.initialState:st(this,function(){return La(e)?n.machine.resolveState(e):n.machine.resolveState(De.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,ft)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){ee(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,i,s,o,a,c,u,f;try{for(var l=Y(this.listeners),d=l.next();!d.done;d=l.next()){var h=d.value;this.listeners.delete(h)}}catch(j){e={error:j}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}try{for(var p=Y(this.stopListeners),_=p.next();!_.done;_=p.next()){var h=_.value;h(),this.stopListeners.delete(h)}}catch(j){r={error:j}}finally{try{_&&!_.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}try{for(var x=Y(this.contextListeners),A=x.next();!A.done;A=x.next()){var h=A.value;this.contextListeners.delete(h)}}catch(j){s={error:j}}finally{try{A&&!A.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}try{for(var k=Y(this.doneListeners),w=k.next();!w.done;w=k.next()){var h=w.value;this.doneListeners.delete(h)}}catch(j){a={error:j}}finally{try{w&&!w.done&&(c=k.return)&&c.call(k)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=le.Stopped,this._initialState=void 0;try{for(var P=Y(Object.keys(this.delayedEventsMap)),L=P.next();!L.done;L=P.next()){var E=L.value;this.clock.clearTimeout(this.delayedEventsMap[E])}}catch(j){u={error:j}}finally{try{L&&!L.done&&(f=P.return)&&f.call(P)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new Xr({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r=ye({type:"xstate.stop"}),i=st(e,function(){var s=oe(re([],Z(e.state.configuration),!1).sort(function(f,l){return l.order-f.order}).map(function(f){return qe(f.onExit,e.machine.options.actions)})),o=Z(pn(e.machine,e.state,e.state.context,r,[{type:"exit",actions:s}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),a=o[0],c=o[1],u=new De({value:e.state.value,context:c,_event:r,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:a.filter(function(f){return!rr(f)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return u.changed=!0,u});e.update(i,r),e._stopChildren(),wt.free(e.sessionId)}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===le.NotStarted&&this.options.deferEvents)){if(this.status!==le.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,s,o=n.state,a=!1,c=[],u=function(h){var p=ye(h);n.forward(p),o=st(n,function(){return n.machine.transition(o,p,void 0,r||void 0)}),c.push.apply(c,re([],Z(n.machine.config.predictableActionArguments?o.actions:o.actions.map(function(_){return $a(_,o)})),!1)),a=a||!!o.changed};try{for(var f=Y(e),l=f.next();!l.done;l=f.next()){var d=l.value;u(d)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}o.changed=a,o.actions=c,n.update(o,ye(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=ye(e);if(i.name.indexOf(zr)===0&&!this.state.nextEvents.some(function(o){return o.indexOf(zr)===0}))throw i.data.data;var s=st(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return s},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var i=Y(this.forwardTo),s=i.next();!s.done;s=i.next()){var o=s.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),ee(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==le.Running)return Zi(e,n);if(Kr(e))return this.spawnPromise(Promise.resolve(e),n);if(ee(e))return this.spawnCallback(e,n);if(Ma(e))return this.spawnActor(e,n);if(_a(e))return this.spawnObservable(e,n);if(gt(e))return this.spawnMachine(e,N(N({},r),{id:n}));if(ha(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var i=new t(e,N(N({},this.options),{parent:this,id:n.id||e.id})),s=N(N({},Ka),n);s.sync&&i.onTransition(function(a){r.send(Hi,{state:a,id:i.id})});var o=i;return this.children.set(i.id,o),s.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(ye(a,{origin:i.id}))}).start(),o},t.prototype.spawnBehavior=function(e,n){var r=Wa(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,i=this,s=!1,o;e.then(function(c){s||(o=c,i.removeChild(n),i.send(ye(an(n,c),{origin:n})))},function(c){if(!s){i.removeChild(n);var u=kt(n,c);try{i.send(ye(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(c,u,f){var l=on(c,u,f),d=!1;return e.then(function(h){d||(l.next(h),!d&&l.complete())},function(h){d||l.error(h)}),{unsubscribe:function(){return d=!0}}},stop:function(){s=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return o}},r[Ge]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnCallback=function(e,n){var r,i=this,s=!1,o=new Set,a=new Set,c,u=function(d){c=d,a.forEach(function(h){return h(d)}),!s&&i.send(ye(d,{origin:n}))},f;try{f=e(u,function(d){o.add(d)})}catch(d){this.send(kt(n,d))}if(Kr(f))return this.spawnPromise(f,n);var l=(r={id:n,send:function(d){return o.forEach(function(h){return h(d)})},subscribe:function(d){var h=on(d);return a.add(h.next),{unsubscribe:function(){a.delete(h.next)}}},stop:function(){s=!0,ee(f)&&f()},toJSON:function(){return{id:n}},getSnapshot:function(){return c}},r[Ge]=function(){return this},r);return this.children.set(n,l),l},t.prototype.spawnObservable=function(e,n){var r,i=this,s,o=e.subscribe(function(c){s=c,i.send(ye(c,{origin:n}))},function(c){i.removeChild(n),i.send(ye(kt(n,c),{origin:n}))},function(){i.removeChild(n),i.send(ye(an(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(c,u,f){return e.subscribe(c,u,f)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return s},toJSON:function(){return{id:n}}},r[Ge]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[Ge]=function(){return this},r))},t.prototype.attachDev=function(){var e=Ir();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(N(N({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:N({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}Ha(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[Ge]=function(){return this},t.prototype.getSnapshot=function(){return this.status===le.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=is,t}();function is(t,e){var n=new Ja(t,e);return n}function Ga(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function qt(t){return N(N({type:er},t),{toJSON:function(){t.onDone,t.onError;var e=Er(t,["onDone","onError"]);return N(N({},e),{type:er,src:Ga(t.src)})}})}var Xt="",or="#",Pn="*",tt={},nt=function(t){return t[0]===or},qa=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Xa=function(){function t(e,n,r,i){r===void 0&&(r="context"in e?e.context:void 0);var s=this,o;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(qa(),n),this.parent=i?.parent,this.key=this.config.key||i?.key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Wi),this.id=this.config.id||re([this.machine.key],Z(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?At(this.config.states,function(u,f){var l,d=new t(u,{},void 0,{parent:s,key:f});return Object.assign(s.idMap,N((l={},l[d.id]=d,l),d.idMap)),d}):tt;var a=0;function c(u){var f,l;u.order=a++;try{for(var d=Y(es(u)),h=d.next();!h.done;h=d.next()){var p=h.value;c(p)}}catch(_){f={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}}c(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var f=u.event;return f===Xt}):Xt in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Oe(this.config.entry||this.config.onEntry).map(function(u){return Mt(u)}),this.onExit=Oe(this.config.exit||this.config.onExit).map(function(u){return Mt(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Oe(this.config.invoke).map(function(u,f){var l,d;if(gt(u)){var h=Jt(s.id,f);return s.machine.options.services=N((l={},l[h]=u,l),s.machine.options.services),qt({src:h,id:h})}else if(te(u.src)){var h=u.id||Jt(s.id,f);return qt(N(N({},u),{id:h,src:u.src}))}else if(gt(u.src)||ee(u.src)){var h=u.id||Jt(s.id,f);return s.machine.options.services=N((d={},d[h]=u.src,d),s.machine.options.services),qt(N(N({id:h},u),{src:h}))}else{var p=u.src;return qt(N(N({id:Jt(s.id,f)},u),{src:p}))}}),this.activities=Oe(this.config.activities).concat(this.invoke).map(function(u){return Or(u)}),this.transition=this.transition.bind(this),this.tags=Oe(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||ts(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,i=r.actions,s=r.activities,o=r.guards,a=r.services,c=r.delays;return new t(this.config,{actions:N(N({},i),e.actions),activities:N(N({},s),e.activities),guards:N(N({},o),e.guards),services:N(N({},a),e.services),delays:N(N({},c),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return ee(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:At(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Xt,r=this.transitions.filter(function(i){var s=i.eventType===e;return n?s:s||i.eventType===Pn});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(s,o){var a=ee(s)?"".concat(e.id,":delay[").concat(o,"]"):s,c=ja(a,e.id);return e.onEntry.push(xa(c,{delay:s})),e.onExit.push(Aa(c)),c},i=bt(n)?n.map(function(s,o){var a=r(s.delay,o);return N(N({},s),{event:a})}):oe(Object.keys(n).map(function(s,o){var a=n[s],c=te(a)?{target:a}:a,u=isNaN(+s)?s:+s,f=r(u,o);return Oe(c).map(function(l){return N(N({},l),{event:f,delay:u})})}));return i.map(function(s){var o=s.delay;return N(N({},e.formatTransition(s)),{delay:o})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var i=e instanceof De?e.value:Tt(e,this.delimiter);if(te(i)){var s=this.getStateNode(i).initial;return s!==void 0?this.getStateNodes((n={},n[i]=s,n)):[this,this.states[i]]}var o=Object.keys(i),a=[this];return a.push.apply(a,re([],Z(oe(o.map(function(c){return r.getStateNode(c).getStateNodes(i[c])}))),!1)),a},t.prototype.handles=function(e){var n=Ki(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof De?e:De.create(e),r=Array.from(Ct([],this.getStateNodes(n.value)));return new De(N(N({},n),{value:this.resolve(n.value),configuration:r,done:cn(r,this),tags:qr(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var i=this.getStateNode(e),s=i.next(n,r);return!s||!s.transitions.length?this.next(n,r):s},t.prototype.transitionCompoundNode=function(e,n,r){var i=Object.keys(e),s=this.getStateNode(i[0]),o=s._transition(e[i[0]],n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionParallelNode=function(e,n,r){var i,s,o={};try{for(var a=Y(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,f=e[u];if(f){var l=this.getStateNode(u),d=l._transition(f,n,r);d&&(o[u]=d)}}}catch(A){i={error:A}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}var h=Object.keys(o).map(function(A){return o[A]}),p=oe(h.map(function(A){return A.transitions})),_=h.some(function(A){return A.transitions.length>0});if(!_)return this.next(n,r);var x=oe(Object.keys(o).map(function(A){return o[A].configuration}));return{transitions:p,exitSet:oe(h.map(function(A){return A.exitSet})),configuration:x,source:n,actions:oe(Object.keys(o).map(function(A){return o[A].actions}))}},t.prototype._transition=function(e,n,r){return te(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,ye(n))},t.prototype.next=function(e,n){var r,i,s=this,o=n.name,a=[],c=[],u;try{for(var f=Y(this.getCandidates(o)),l=f.next();!l.done;l=f.next()){var d=l.value,h=d.cond,p=d.in,_=e.context,x=p?te(p)&&nt(p)?e.matches(Tt(this.getStateNodeById(p).path,this.delimiter)):Cr(Tt(p,this.delimiter),fa(this.path.slice(0,-2))(e.value)):!0,A=!1;try{A=!h||Xi(this.machine,h,_,n,e)}catch(P){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(P.message))}if(A&&x){d.target!==void 0&&(c=d.target),a.push.apply(a,re([],Z(d.actions),!1)),u=d;break}}}catch(P){r={error:P}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}if(u){if(!c.length)return{transitions:[u],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var k=oe(c.map(function(P){return s.getRelativeStateNodes(P,e.historyValue)})),w=!!u.internal;return{transitions:[u],exitSet:w?[]:oe(c.map(function(P){return s.getPotentiallyReenteringNodes(P)})),configuration:k,source:e,actions:a}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,i=e;r&&r!==i;)n.push(r),r=r.parent;return r!==i?[]:(n.push(i),n)},t.prototype.getActions=function(e,n,r,i,s,o,a){var c,u,f,l,d=this,h=o?Ct([],this.getStateNodes(o.value)):[],p=new Set;try{for(var _=Y(Array.from(e).sort(function(V,K){return V.order-K.order})),x=_.next();!x.done;x=_.next()){var A=x.value;(!Ot(h,A)||Ot(r.exitSet,A)||A.parent&&p.has(A.parent))&&p.add(A)}}catch(V){c={error:V}}finally{try{x&&!x.done&&(u=_.return)&&u.call(_)}finally{if(c)throw c.error}}try{for(var k=Y(h),w=k.next();!w.done;w=k.next()){var A=w.value;(!Ot(e,A)||Ot(r.exitSet,A.parent))&&r.exitSet.push(A)}}catch(V){f={error:V}}finally{try{w&&!w.done&&(l=k.return)&&l.call(k)}finally{if(f)throw f.error}}r.exitSet.sort(function(V,K){return K.order-V.order});var P=Array.from(p).sort(function(V,K){return V.order-K.order}),L=new Set(r.exitSet),E=oe(P.map(function(V){var K=[];if(V.type!=="final")return K;var b=V.parent;if(!b.parent)return K;K.push(Gt(V.id,V.doneData),Gt(b.id,V.doneData?yn(V.doneData,i,s):void 0));var F=b.parent;return F.type==="parallel"&&Dt(F).every(function(I){return cn(r.configuration,I)})&&K.push(Gt(F.id)),K})),j=P.map(function(V){var K=V.onEntry,b=V.activities.map(function(F){return ka(F)});return{type:"entry",actions:qe(a?re(re([],Z(K),!1),Z(b),!1):re(re([],Z(b),!1),Z(K),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:E.map(function(V){return va(V)})}),U=Array.from(L).map(function(V){return{type:"exit",actions:qe(re(re([],Z(V.onExit),!1),Z(V.activities.map(function(K){return Ca(K)})),!1),d.machine.options.actions)}}),D=U.concat({type:"transition",actions:qe(r.actions,this.machine.options.actions)}).concat(j);if(n){var B=qe(oe(re([],Z(e),!1).sort(function(V,K){return K.order-V.order}).map(function(V){return V.onExit})),this.machine.options.actions).filter(function(V){return!rr(V)});return D.concat({type:"stop",actions:B})}return D},t.prototype.transition=function(e,n,r,i){e===void 0&&(e=this.initialState);var s=ye(n),o;if(e instanceof De)o=r===void 0?e:this.resolveState(De.from(e,r));else{var a=te(e)?this.resolve(gn(this.getResolvedPath(e))):this.resolve(e),c=r??this.machine.context;o=this.resolveState(De.from(a,c))}if(this.strict&&!this.events.includes(s.name)&&!da(s.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var u=this._transition(o.value,o,s)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},f=Ct([],this.getStateNodes(o.value)),l=u.configuration.length?Ct(f,u.configuration):f;return u.configuration=re([],Z(l),!1),this.resolveTransition(u,o,o.context,i,s)},t.prototype.resolveRaisedTransition=function(e,n,r,i){var s,o=e.actions;return e=this.transition(e,n,void 0,i),e._event=r,e.event=r.data,(s=e.actions).unshift.apply(s,re([],Z(o),!1)),e},t.prototype.resolveTransition=function(e,n,r,i,s){var o,a,c,u,f=this;s===void 0&&(s=ft);var l=e.configuration,d=!n||e.transitions.length>0,h=d?e.configuration:n?n.configuration:[],p=cn(h,this),_=d?Pa(this.machine,l):void 0,x=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,A=this.getActions(new Set(h),p,e,r,s,n,i),k=n?N({},n.activities):{};try{for(var w=Y(A),P=w.next();!P.done;P=w.next()){var L=P.value;try{for(var E=(c=void 0,Y(L.actions)),j=E.next();!j.done;j=E.next()){var U=j.value;U.type===Zn?k[U.activity.id||U.activity.type]=U:U.type===Ar&&(k[U.activity.id||U.activity.type]=!1)}}catch(Ce){c={error:Ce}}finally{try{j&&!j.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}}}catch(Ce){o={error:Ce}}finally{try{P&&!P.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}var D=Z(pn(this,n,r,s,A,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),B=D[0],V=D[1],K=Z(ga(B,rr),2),b=K[0],F=K[1],I=B.filter(function(Ce){var Ze;return Ce.type===Zn&&((Ze=Ce.activity)===null||Ze===void 0?void 0:Ze.type)===er}),R=I.reduce(function(Ce,Ze){return Ce[Ze.activity.id]=Ra(Ze.activity,f.machine,V,s),Ce},n?N({},n.children):{}),O=new De({value:_||n.value,context:V,_event:s,_sessionid:n?n._sessionid:null,historyValue:_?x?ya(x,_):void 0:n?n.historyValue:void 0,history:!_||e.source?n:void 0,actions:_?F:[],activities:_?k:n?n.activities:{},events:[],configuration:h,transitions:e.transitions,children:R,done:p,tags:qr(h),machine:this}),z=r!==V;O.changed=s.name===Hi||z;var H=O.history;H&&delete H.history;var J=!p&&(this._transient||l.some(function(Ce){return Ce._transient}));if(!d&&(!J||s.name===Xt))return O;var W=O;if(!p)for(J&&(W=this.resolveRaisedTransition(W,{type:ra},s,i));b.length;){var G=b.shift();W=this.resolveRaisedTransition(W,G._event,s,i)}var Ht=W.changed||(H?!!W.actions.length||z||typeof H.value!=typeof W.value||!rs(W.value,H.value):void 0);return W.changed=Ht,W.history=H,W},t.prototype.getStateNode=function(e){if(nt(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=nt(e)?e.slice(or.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&nt(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=nr(e,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||tt;switch(this.type){case"parallel":return At(this.initialStateValue,function(s,o){return s?r.getStateNode(o).resolve(e[o]||s):tt});case"compound":if(te(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(n={},n[e]=i.initialStateValue,n):e}return Object.keys(e).length?At(e,function(s,o){return s?r.getStateNode(o).resolve(s):tt}):this.initialStateValue||{};default:return e||tt}},t.prototype.getResolvedPath=function(e){if(nt(e)){var n=this.machine.idMap[e.slice(or.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return nr(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=Wr(this.states,function(r){return r.initialStateValue||tt},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=_n(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;te(n.target)?e=nt(n.target)?gn(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(_n(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=sn(this.initialStateValue);return oe(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=Z(e),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var s=this.getStateNode(r);if(s.type==="history")return s.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:Wr(this.states,function(n,r){if(!e)return n.historyValue();var i=te(e)?void 0:e[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var i=this.target;return i?oe(sn(i).map(function(o){return r.getFromRelativePath(o)})):r.initialStateNodes}var s=la(r.path,"states")(e).current;return te(s)?[r.getStateNode(s)]:oe(sn(s).map(function(o){return n.history==="deep"?r.getFromRelativePath(o):[r.states[o[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=oe(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,i;if(this.__cache.events)return this.__cache.events;var s=this.states,o=new Set(this.ownEvents);if(s)try{for(var a=Y(Object.keys(s)),c=a.next();!c.done;c=a.next()){var u=c.value,f=s[u];if(f.states)try{for(var l=(r=void 0,Y(f.events)),d=l.next();!d.done;d=l.next()){var h=d.value;o.add("".concat(h))}}catch(p){r={error:p}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(p){e={error:p}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!te(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var s=i?n.key+r:r;if(n.parent)try{var o=n.parent.getStateNodeByPath(s);return o}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(s)})},t.prototype.formatTransition=function(e){var n=this,r=wa(e.target),i="internal"in e?e.internal:r?r.some(function(c){return te(c)&&c[0]===n.delimiter}):!0,s=this.machine.options.guards,o=this.resolveTarget(r),a=N(N({},e),{actions:qe(Oe(e.actions)),cond:qi(e.cond,s),target:o,source:this,internal:i,eventType:e.event,toJSON:function(){return N(N({},a),{target:a.target?a.target.map(function(c){return"#".concat(c.id)}):void 0,source:"#".concat(n.id)})}});return a},t.prototype.formatTransitions=function(){var e,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var s=this.config.on,o=Pn,a=s[o],c=a===void 0?[]:a,u=Er(s,[typeof o=="symbol"?o:o+""]);i=oe(Object.keys(u).map(function(k){var w=et(k,u[k]);return w}).concat(et(Pn,c)))}var f=this.config.always?et("",this.config.always):[],l=this.config.onDone?et(String(Gt(this.id)),this.config.onDone):[],d=oe(this.invoke.map(function(k){var w=[];return k.onDone&&w.push.apply(w,re([],Z(et(String(an(k.id)),k.onDone)),!1)),k.onError&&w.push.apply(w,re([],Z(et(String(kt(k.id)),k.onError)),!1)),w})),h=this.after,p=oe(re(re(re(re([],Z(l),!1),Z(d),!1),Z(i),!1),Z(f),!1).map(function(k){return Oe(k).map(function(w){return r.formatTransition(w)})}));try{for(var _=Y(h),x=_.next();!x.done;x=_.next()){var A=x.value;p.push(A)}}catch(k){e={error:k}}finally{try{x&&!x.done&&(n=_.return)&&n.call(_)}finally{if(e)throw e.error}}return p},t}();function Ya(t,e){return new Xa(t,e)}var Fn=Ia,ss={},os={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */t.__assign=function(){return t.__assign=Object.assign||function(o){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(o[f]=a[f])}return o},t.__assign.apply(this,arguments)};function e(s,o){var a={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.indexOf(c)<0&&(a[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(s);u<c.length;u++)o.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(s,c[u])&&(a[c[u]]=s[c[u]]);return a}function n(s){var o=typeof Symbol=="function"&&Symbol.iterator,a=o&&s[o],c=0;if(a)return a.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function r(s,o){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var c=a.call(s),u,f=[],l;try{for(;(o===void 0||o-- >0)&&!(u=c.next()).done;)f.push(u.value)}catch(d){l={error:d}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f}function i(s,o,a){if(a||arguments.length===2)for(var c=0,u=o.length,f;c<u;c++)(f||!(c in o))&&(f||(f=Array.prototype.slice.call(o,0,c)),f[c]=o[c]);return s.concat(f||Array.prototype.slice.call(o))}t.__read=r,t.__rest=e,t.__spreadArray=i,t.__values=n})(os);Object.defineProperty(ss,"__esModule",{value:!0});var Yr=os,Qa={timeout:1e4};function Za(t,e,n){var r=Yr.__assign(Yr.__assign({},Qa),n);return new Promise(function(i,s){var o=!1,a=r.timeout===1/0?void 0:setTimeout(function(){u.unsubscribe(),s(new Error("Timeout of ".concat(r.timeout," ms exceeded")))},r.timeout),c=function(){clearTimeout(a),o=!0,u?.unsubscribe()},u=t.subscribe({next:function(f){e(f)&&(c(),i(f))},error:function(f){c(),s(f)},complete:function(){c(),s(new Error("Actor terminated without satisfying predicate"))}});o&&u.unsubscribe()})}var ec=ss.waitFor=Za;const tc=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]),as=(t,e)=>tc(t,e),nc=(t=0)=>new Promise(e=>setTimeout(()=>e(),t)),rc=async(t,e)=>{let n;const r=new Promise((i,s)=>{n=setTimeout(()=>s(new cs(`withTimeout: timed out after ${e}ms`)),e)});try{return await Promise.race([t,r])}finally{clearTimeout(n)}};class cs extends Error{constructor(e){super(e),this.name="TimeoutError"}}var Yt,ic=new Uint8Array(16);function sc(){if(!Yt&&(Yt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Yt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yt(ic)}const oc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function jr(t){return typeof t=="string"&&oc.test(t)}var ge=[];for(var Nn=0;Nn<256;++Nn)ge.push((Nn+256).toString(16).substr(1));function ac(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ge[t[e+0]]+ge[t[e+1]]+ge[t[e+2]]+ge[t[e+3]]+"-"+ge[t[e+4]]+ge[t[e+5]]+"-"+ge[t[e+6]]+ge[t[e+7]]+"-"+ge[t[e+8]]+ge[t[e+9]]+"-"+ge[t[e+10]]+ge[t[e+11]]+ge[t[e+12]]+ge[t[e+13]]+ge[t[e+14]]+ge[t[e+15]]).toLowerCase();if(!jr(n))throw TypeError("Stringified UUID is invalid");return n}function cc(t){if(!jr(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function uc(t,e,n){t=t||{};var r=t.random||(t.rng||sc)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return ac(r)}var yt={},jn={},we={};Object.defineProperty(we,"__esModule",{value:!0});we.output=we.exists=we.hash=we.bytes=we.bool=we.number=void 0;function bn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}we.number=bn;function us(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}we.bool=us;function Tr(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}we.bytes=Tr;function fs(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bn(t.outputLen),bn(t.blockLen)}we.hash=fs;function ls(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}we.exists=ls;function ds(t,e){Tr(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}we.output=ds;const fc={number:bn,bool:us,bytes:Tr,hash:fs,exists:ls,output:ds};we.default=fc;var Rr={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.crypto=void 0;Tn.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=Tn,n=E=>E instanceof Uint8Array,r=E=>new Uint8Array(E.buffer,E.byteOffset,E.byteLength);t.u8=r;const i=E=>new Uint32Array(E.buffer,E.byteOffset,Math.floor(E.byteLength/4));t.u32=i;const s=E=>new DataView(E.buffer,E.byteOffset,E.byteLength);t.createView=s;const o=(E,j)=>E<<32-j|E>>>j;if(t.rotr=o,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(E,j)=>j.toString(16).padStart(2,"0"));function c(E){if(!n(E))throw new Error("Uint8Array expected");let j="";for(let U=0;U<E.length;U++)j+=a[E[U]];return j}t.bytesToHex=c;function u(E){if(typeof E!="string")throw new Error("hex string expected, got "+typeof E);const j=E.length;if(j%2)throw new Error("padded hex string expected, got unpadded hex of length "+j);const U=new Uint8Array(j/2);for(let D=0;D<U.length;D++){const B=D*2,V=E.slice(B,B+2),K=Number.parseInt(V,16);if(Number.isNaN(K)||K<0)throw new Error("Invalid byte sequence");U[D]=K}return U}t.hexToBytes=u;const f=async()=>{};t.nextTick=f;async function l(E,j,U){let D=Date.now();for(let B=0;B<E;B++){U(B);const V=Date.now()-D;V>=0&&V<j||(await(0,t.nextTick)(),D+=V)}}t.asyncLoop=l;function d(E){if(typeof E!="string")throw new Error(`utf8ToBytes expected string, got ${typeof E}`);return new Uint8Array(new TextEncoder().encode(E))}t.utf8ToBytes=d;function h(E){if(typeof E=="string"&&(E=d(E)),!n(E))throw new Error(`expected Uint8Array, got ${typeof E}`);return E}t.toBytes=h;function p(...E){const j=new Uint8Array(E.reduce((D,B)=>D+B.length,0));let U=0;return E.forEach(D=>{if(!n(D))throw new Error("Uint8Array expected");j.set(D,U),U+=D.length}),j}t.concatBytes=p;class _{clone(){return this._cloneInto()}}t.Hash=_;const x={}.toString;function A(E,j){if(j!==void 0&&x.call(j)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(E,j)}t.checkOpts=A;function k(E){const j=D=>E().update(h(D)).digest(),U=E();return j.outputLen=U.outputLen,j.blockLen=U.blockLen,j.create=()=>E(),j}t.wrapConstructor=k;function w(E){const j=(D,B)=>E(B).update(h(D)).digest(),U=E({});return j.outputLen=U.outputLen,j.blockLen=U.blockLen,j.create=D=>E(D),j}t.wrapConstructorWithOpts=w;function P(E){const j=(D,B)=>E(B).update(h(D)).digest(),U=E({});return j.outputLen=U.outputLen,j.blockLen=U.blockLen,j.create=D=>E(D),j}t.wrapXOFConstructorWithOpts=P;function L(E=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(E));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=L})(Rr);Object.defineProperty(jn,"__esModule",{value:!0});jn.SHA2=void 0;const Ln=we,vt=Rr;function lc(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}class dc extends vt.Hash{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,vt.createView)(this.buffer)}update(e){(0,Ln.exists)(this);const{view:n,buffer:r,blockLen:i}=this;e=(0,vt.toBytes)(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,vt.createView)(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Ln.exists)(this),(0,Ln.output)(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let l=o;l<i;l++)n[l]=0;lc(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=(0,vt.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,f[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}jn.SHA2=dc;Object.defineProperty(yt,"__esModule",{value:!0});yt.sha224=yt.sha256=void 0;const hc=jn,Se=Rr,gc=(t,e,n)=>t&e^~t&n,yc=(t,e,n)=>t&e^t&n^e&n,pc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),We=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ke=new Uint32Array(64);class hs extends hc.SHA2{constructor(){super(64,32,8,!1),this.A=We[0]|0,this.B=We[1]|0,this.C=We[2]|0,this.D=We[3]|0,this.E=We[4]|0,this.F=We[5]|0,this.G=We[6]|0,this.H=We[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let l=0;l<16;l++,n+=4)Ke[l]=e.getUint32(n,!1);for(let l=16;l<64;l++){const d=Ke[l-15],h=Ke[l-2],p=(0,Se.rotr)(d,7)^(0,Se.rotr)(d,18)^d>>>3,_=(0,Se.rotr)(h,17)^(0,Se.rotr)(h,19)^h>>>10;Ke[l]=_+Ke[l-7]+p+Ke[l-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){const d=(0,Se.rotr)(a,6)^(0,Se.rotr)(a,11)^(0,Se.rotr)(a,25),h=f+d+gc(a,c,u)+pc[l]+Ke[l]|0,_=((0,Se.rotr)(r,2)^(0,Se.rotr)(r,13)^(0,Se.rotr)(r,22))+yc(r,i,s)|0;f=u,u=c,c=a,a=o+h|0,o=s,s=i,i=r,r=h+_|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,c,u,f)}roundClean(){Ke.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class _c extends hs{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}yt.sha256=(0,Se.wrapConstructor)(()=>new hs);yt.sha224=(0,Se.wrapConstructor)(()=>new _c);function bc(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var p=0,_=0,x=0,A=h.length;x!==A&&h[x]===0;)x++,p++;for(var k=(A-x)*u+1>>>0,w=new Uint8Array(k);x!==A;){for(var P=h[x],L=0,E=k-1;(P!==0||L<_)&&E!==-1;E--,L++)P+=256*w[E]>>>0,w[E]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");_=L,x++}for(var j=k-_;j!==k&&w[j]===0;)j++;for(var U=a.repeat(p);j<k;++j)U+=t.charAt(w[j]);return U}function l(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var p=0,_=0,x=0;h[p]===a;)_++,p++;for(var A=(h.length-p)*c+1>>>0,k=new Uint8Array(A);h[p];){var w=e[h.charCodeAt(p)];if(w===255)return;for(var P=0,L=A-1;(w!==0||P<x)&&L!==-1;L--,P++)w+=o*k[L]>>>0,k[L]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");x=P,p++}for(var E=A-x;E!==A&&k[E]===0;)E++;for(var j=new Uint8Array(_+(A-E)),U=_;E!==A;)j[U++]=k[E++];return j}function d(h){var p=l(h);if(p)return p;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:l,decode:d}}var wc=bc;const vc=wc,mc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var xc=vc(mc),$n=xc,Sc=function(t){function e(s){var o=Uint8Array.from(s),a=t(o),c=o.length+4,u=new Uint8Array(c);return u.set(o,0),u.set(a.subarray(0,4),o.length),$n.encode(u,c)}function n(s){var o=s.slice(0,-4),a=s.slice(-4),c=t(o);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return o}function r(s){var o=$n.decodeUnsafe(s);if(o)return n(o)}function i(s){var o=$n.decode(s),a=n(o);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:i,decodeUnsafe:r}},{sha256:Qr}=yt,Ec=Sc;function Ac(t){return Qr(Qr(t))}var kc=Ec(Ac);const gs=Sr(kc),wn="automerge:",Bn=t=>{const{binaryDocumentId:e,documentId:n}=ys(t);if(!e)throw new Error("Invalid document URL: "+t);return{binaryDocumentId:e,documentId:n}},Rn=({documentId:t})=>{if(t instanceof Uint8Array)return wn+Ic(t);if(typeof t=="string")return wn+t;throw new Error("Invalid documentId: "+t)},Zr=t=>{if(!t.startsWith(wn))return!1;const{binaryDocumentId:e}=ys(t);return!!e},Cc=()=>Rn({documentId:uc(null,new Uint8Array(16))}),Oc=t=>gs.decodeUnsafe(t),Ic=t=>gs.encode(t),jc=t=>{if(jr(t)){const e=cc(t);return Rn({documentId:e})}},ys=t=>{const e=new RegExp(`^${wn}(\\w+)$`),[n,r]=t.match(e)||[],i=r;return{binaryDocumentId:Oc(i),documentId:i}};let ar;try{ar=new TextDecoder}catch{}let $,Ye,C=0;const Tc=105,Rc=57342,Uc=57343,ei=57337,ti=6,rt={};let X={},ae,vn,mn=0,Pt=0,fe,je,ce=[],cr=[],ve,be,It,ni={useRecords:!1,mapsAsObjects:!0},Ft=!1,ps=2;try{new Function("")}catch{ps=1/0}class Nt{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(e.keyMap))this.mapKey.set(r,n)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let n=new Map;for(let[r,i]of Object.entries(e))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,i);return n}decodeKeys(e){if(!this._keyMap||e.constructor.name!="Map")return e;if(!this._mapKey){this._mapKey=new Map;for(let[r,i]of Object.entries(this._keyMap))this._mapKey.set(i,r)}let n={};return e.forEach((r,i)=>n[Ae(this._mapKey.has(i)?this._mapKey.get(i):i)]=r),n}mapDecode(e,n){let r=this.decode(e);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(i=>this.decodeKeys(i))}return r}decode(e,n){if($)return vs(()=>(dr(),this?this.decode(e,n):Nt.prototype.decode.call(ni,e,n)));Ye=n>-1?n:e.length,C=0,Pt=0,vn=null,fe=null,$=e;try{be=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw $=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof Nt){if(X=this,ve=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return ae=this.structures,Qt();(!ae||ae.length>0)&&(ae=[])}else X=ni,(!ae||ae.length>0)&&(ae=[]),ve=null;return Qt()}decodeMultiple(e,n){let r,i=0;try{let s=e.length;Ft=!0;let o=this?this.decode(e,s):Dr.decode(e,s);if(n){if(n(o)===!1)return;for(;C<s;)if(i=C,n(Qt())===!1)return}else{for(r=[o];C<s;)i=C,r.push(Qt());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{Ft=!1,dr()}}}function Qt(){try{let t=q();if(fe){if(C>=fe.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}C=fe.postBundlePosition,fe=null}if(C==Ye)ae=null,$=null,je&&(je=null);else if(C>Ye){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}else if(!Ft)throw new Error("Data read, but end of buffer not reached");return t}catch(t){throw dr(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function q(){let t=$[C++],e=t>>5;if(t=t&31,t>23)switch(t){case 24:t=$[C++];break;case 25:if(e==7)return Fc();t=be.getUint16(C),C+=2;break;case 26:if(e==7){let n=be.getFloat32(C);if(X.useFloat32>2){let r=Mr[($[C]&127)<<1|$[C+1]>>7];return C+=4,(r*n+(n>0?.5:-.5)>>0)/r}return C+=4,n}t=be.getUint32(C),C+=4;break;case 27:if(e==7){let n=be.getFloat64(C);return C+=8,n}if(e>1){if(be.getUint32(C)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");t=be.getUint32(C+4)}else X.int64AsNumber?(t=be.getUint32(C)*4294967296,t+=be.getUint32(C+4)):t=be.getBigUint64(C);C+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,i=0;for(;(r=q())!=rt;)n[i++]=r;return e==4?n:e==3?n.join(""):Buffer.concat(n);case 5:let s;if(X.mapsAsObjects){let o={};if(X.keyMap)for(;(s=q())!=rt;)o[Ae(X.decodeKey(s))]=q();else for(;(s=q())!=rt;)o[Ae(s)]=q();return o}else{It&&(X.mapsAsObjects=!0,It=!1);let o=new Map;if(X.keyMap)for(;(s=q())!=rt;)o.set(X.decodeKey(s),q());else for(;(s=q())!=rt;)o.set(s,q());return o}case 7:return rt;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+t)}switch(e){case 0:return t;case 1:return~t;case 2:return Pc(t);case 3:if(Pt>=C)return vn.slice(C-mn,(C+=t)-mn);if(Pt==0&&Ye<140&&t<32){let i=t<16?_s(t):Dc(t);if(i!=null)return i}return Mc(t);case 4:let n=new Array(t);for(let i=0;i<t;i++)n[i]=q();return n;case 5:if(X.mapsAsObjects){let i={};if(X.keyMap)for(let s=0;s<t;s++)i[Ae(X.decodeKey(q()))]=q();else for(let s=0;s<t;s++)i[Ae(q())]=q();return i}else{It&&(X.mapsAsObjects=!0,It=!1);let i=new Map;if(X.keyMap)for(let s=0;s<t;s++)i.set(X.decodeKey(q()),q());else for(let s=0;s<t;s++)i.set(q(),q());return i}case 6:if(t>=ei){let i=ae[t&8191];if(i)return i.read||(i.read=ur(i)),i.read();if(t<65536){if(t==Uc){let s=ct(),o=q(),a=q();lr(o,a);let c={};if(X.keyMap)for(let u=2;u<s;u++){let f=X.decodeKey(a[u-2]);c[Ae(f)]=q()}else for(let u=2;u<s;u++){let f=a[u-2];c[Ae(f)]=q()}return c}else if(t==Rc){let s=ct(),o=q();for(let a=2;a<s;a++)lr(o++,q());return q()}else if(t==ei)return zc();if(X.getShared&&(Ur(),i=ae[t&8191],i))return i.read||(i.read=ur(i)),i.read()}}let r=ce[t];if(r)return r.handlesRead?r(q):r(q());{let i=q();for(let s=0;s<cr.length;s++){let o=cr[s](t,i);if(o!==void 0)return o}return new Qe(i,t)}case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let i=(ve||Xe())[t];if(i!==void 0)return i;throw new Error("Unknown token "+t)}default:if(isNaN(t)){let i=new Error("Unexpected end of CBOR data");throw i.incomplete=!0,i}throw new Error("Unknown CBOR token "+t)}}const ri=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ur(t){function e(){let n=$[C++];if(n=n&31,n>23)switch(n){case 24:n=$[C++];break;case 25:n=be.getUint16(C),C+=2;break;case 26:n=be.getUint32(C),C+=4;break;default:throw new Error("Expected array header, but got "+$[C-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(q);r=r.next}if(this.slowReads++>=ps){let s=this.length==n?this:this.slice(0,n);return r=X.keyMap?new Function("r","return {"+s.map(o=>X.decodeKey(o)).map(o=>ri.test(o)?Ae(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"):new Function("r","return {"+s.map(o=>ri.test(o)?Ae(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(q)}let i={};if(X.keyMap)for(let s=0;s<n;s++)i[Ae(X.decodeKey(this[s]))]=q();else for(let s=0;s<n;s++)i[Ae(this[s])]=q();return i}return t.slowReads=0,e}function Ae(t){return t==="__proto__"?"__proto_":t}let Mc=fr;function fr(t){let e;if(t<16&&(e=_s(t)))return e;if(t>64&&ar)return ar.decode($.subarray(C,C+=t));const n=C+t,r=[];for(e="";C<n;){const i=$[C++];if(!(i&128))r.push(i);else if((i&224)===192){const s=$[C++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=$[C++]&63,o=$[C++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=$[C++]&63,o=$[C++]&63,a=$[C++]&63;let c=(i&7)<<18|s<<12|o<<6|a;c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|c&1023),r.push(c)}else r.push(i);r.length>=4096&&(e+=de.apply(String,r),r.length=0)}return r.length>0&&(e+=de.apply(String,r)),e}let de=String.fromCharCode;function Dc(t){let e=C,n=new Array(t);for(let r=0;r<t;r++){const i=$[C++];if((i&128)>0){C=e;return}n[r]=i}return de.apply(String,n)}function _s(t){if(t<4)if(t<2){if(t===0)return"";{let e=$[C++];if((e&128)>1){C-=1;return}return de(e)}}else{let e=$[C++],n=$[C++];if((e&128)>0||(n&128)>0){C-=2;return}if(t<3)return de(e,n);let r=$[C++];if((r&128)>0){C-=3;return}return de(e,n,r)}else{let e=$[C++],n=$[C++],r=$[C++],i=$[C++];if((e&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){C-=4;return}if(t<6){if(t===4)return de(e,n,r,i);{let s=$[C++];if((s&128)>0){C-=5;return}return de(e,n,r,i,s)}}else if(t<8){let s=$[C++],o=$[C++];if((s&128)>0||(o&128)>0){C-=6;return}if(t<7)return de(e,n,r,i,s,o);let a=$[C++];if((a&128)>0){C-=7;return}return de(e,n,r,i,s,o,a)}else{let s=$[C++],o=$[C++],a=$[C++],c=$[C++];if((s&128)>0||(o&128)>0||(a&128)>0||(c&128)>0){C-=8;return}if(t<10){if(t===8)return de(e,n,r,i,s,o,a,c);{let u=$[C++];if((u&128)>0){C-=9;return}return de(e,n,r,i,s,o,a,c,u)}}else if(t<12){let u=$[C++],f=$[C++];if((u&128)>0||(f&128)>0){C-=10;return}if(t<11)return de(e,n,r,i,s,o,a,c,u,f);let l=$[C++];if((l&128)>0){C-=11;return}return de(e,n,r,i,s,o,a,c,u,f,l)}else{let u=$[C++],f=$[C++],l=$[C++],d=$[C++];if((u&128)>0||(f&128)>0||(l&128)>0||(d&128)>0){C-=12;return}if(t<14){if(t===12)return de(e,n,r,i,s,o,a,c,u,f,l,d);{let h=$[C++];if((h&128)>0){C-=13;return}return de(e,n,r,i,s,o,a,c,u,f,l,d,h)}}else{let h=$[C++],p=$[C++];if((h&128)>0||(p&128)>0){C-=14;return}if(t<15)return de(e,n,r,i,s,o,a,c,u,f,l,d,h,p);let _=$[C++];if((_&128)>0){C-=15;return}return de(e,n,r,i,s,o,a,c,u,f,l,d,h,p,_)}}}}}function Pc(t){return X.copyBuffers?Uint8Array.prototype.slice.call($,C,C+=t):$.subarray(C,C+=t)}let bs=new Float32Array(1),Zt=new Uint8Array(bs.buffer,0,4);function Fc(){let t=$[C++],e=$[C++],n=(t&127)>>2;if(n===31)return e||t&3?NaN:t&128?-1/0:1/0;if(n===0){let r=((t&3)<<8|e)/16777216;return t&128?-r:r}return Zt[3]=t&128|(n>>1)+56,Zt[2]=(t&7)<<5|e>>3,Zt[1]=e<<5,Zt[0]=0,bs[0]}new Array(4096);class Qe{constructor(e,n){this.value=e,this.tag=n}}ce[0]=t=>new Date(t);ce[1]=t=>new Date(Math.round(t*1e3));ce[2]=t=>{let e=BigInt(0);for(let n=0,r=t.byteLength;n<r;n++)e=BigInt(t[n])+e<<BigInt(8);return e};ce[3]=t=>BigInt(-1)-ce[2](t);ce[4]=t=>+(t[1]+"e"+t[0]);ce[5]=t=>t[1]*Math.exp(t[0]*Math.log(2));const lr=(t,e)=>{t=t-57344;let n=ae[t];n&&n.isShared&&((ae.restoreStructures||(ae.restoreStructures=[]))[t]=n),ae[t]=e,e.read=ur(e)};ce[Tc]=t=>{let e=t.length,n=t[1];lr(t[0],n);let r={};for(let i=2;i<e;i++){let s=n[i-2];r[Ae(s)]=t[i]}return r};ce[14]=t=>fe?fe[0].slice(fe.position0,fe.position0+=t):new Qe(t,14);ce[15]=t=>fe?fe[1].slice(fe.position1,fe.position1+=t):new Qe(t,15);let Nc={Error,RegExp};ce[27]=t=>(Nc[t[0]]||Error)(t[1],t[2]);const ws=t=>{if($[C++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let e=t();return ve=ve?e.concat(ve.slice(e.length)):e,ve.prefixes=t(),ve.suffixes=t(),t()};ws.handlesRead=!0;ce[51]=ws;ce[ti]=t=>{if(!ve)if(X.getShared)Ur();else return new Qe(t,ti);if(typeof t=="number")return ve[16+(t>=0?2*t:-2*t-1)];throw new Error("No support for non-integer packed references yet")};ce[28]=t=>{je||(je=new Map,je.id=0);let e=je.id++,n=$[C],r;n>>5==4?r=[]:r={};let i={target:r};je.set(e,i);let s=t();return i.used?Object.assign(r,s):(i.target=s,s)};ce[28].handlesRead=!0;ce[29]=t=>{let e=je.get(t);return e.used=!0,e.target};ce[258]=t=>new Set(t);(ce[259]=t=>(X.mapsAsObjects&&(X.mapsAsObjects=!1,It=!0),t())).handlesRead=!0;function it(t,e){return typeof t=="string"?t+e:t instanceof Array?t.concat(e):Object.assign({},t,e)}function Xe(){if(!ve)if(X.getShared)Ur();else throw new Error("No packed values available");return ve}const Lc=1399353956;cr.push((t,e)=>{if(t>=225&&t<=255)return it(Xe().prefixes[t-224],e);if(t>=28704&&t<=32767)return it(Xe().prefixes[t-28672],e);if(t>=1879052288&&t<=2147483647)return it(Xe().prefixes[t-1879048192],e);if(t>=216&&t<=223)return it(e,Xe().suffixes[t-216]);if(t>=27647&&t<=28671)return it(e,Xe().suffixes[t-27639]);if(t>=1811940352&&t<=1879048191)return it(e,Xe().suffixes[t-1811939328]);if(t==Lc)return{packedValues:ve,structures:ae.slice(0),version:e};if(t==55799)return e});const $c=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,ii=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Bc=[64,68,69,70,71,72,77,78,79,85,86];for(let t=0;t<ii.length;t++)Vc(ii[t],Bc[t]);function Vc(t,e){let n="get"+t.name.slice(0,-5),r;typeof t=="function"?r=t.BYTES_PER_ELEMENT:t=null;for(let i=0;i<2;i++){if(!i&&r==1)continue;let s=r==2?1:r==4?2:3;ce[i?e:e-4]=r==1||i==$c?o=>{if(!t)throw new Error("Could not find typed array for code "+e);return new t(Uint8Array.prototype.slice.call(o,0).buffer)}:o=>{if(!t)throw new Error("Could not find typed array for code "+e);let a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=o.length>>s,u=new t(c),f=a[n];for(let l=0;l<c;l++)u[l]=f.call(a,l<<s,i);return u}}}function zc(){let t=ct(),e=C+q();for(let r=2;r<t;r++){let i=ct();C+=i}let n=C;return C=e,fe=[fr(ct()),fr(ct())],fe.position0=0,fe.position1=0,fe.postBundlePosition=C,C=n,q()}function ct(){let t=$[C++]&31;if(t>23)switch(t){case 24:t=$[C++];break;case 25:t=be.getUint16(C),C+=2;break;case 26:t=be.getUint32(C),C+=4;break}return t}function Ur(){if(X.getShared){let t=vs(()=>($=null,X.getShared()))||{},e=t.structures||[];X.sharedVersion=t.version,ve=X.sharedValues=t.packedValues,ae===!0?X.structures=ae=e:ae.splice.apply(ae,[0,e.length].concat(e))}}function vs(t){let e=Ye,n=C,r=mn,i=Pt,s=vn,o=je,a=fe,c=new Uint8Array($.slice(0,Ye)),u=ae,f=X,l=Ft,d=t();return Ye=e,C=n,mn=r,Pt=i,vn=s,je=o,fe=a,$=c,Ft=l,ae=u,X=f,be=new DataView($.buffer,$.byteOffset,$.byteLength),d}function dr(){$=null,je=null,ae=null}const Mr=new Array(147);for(let t=0;t<256;t++)Mr[t]=+("1e"+Math.floor(45.15-t*.30103));let Dr=new Nt({useRecords:!1});const ms=Dr.decode;Dr.decodeMultiple;let un;try{un=new TextEncoder}catch{}let hr,xs;const Un=typeof globalThis=="object"&&globalThis.Buffer,zt=typeof Un<"u",Vn=zt?Un.allocUnsafeSlow:Uint8Array,si=zt?Un:Uint8Array,oi=256,ai=zt?4294967296:2144337920;let zn,v,ie,y=0,Je,ue=null;const Hc=61440,Wc=/[\u0080-\uFFFF]/,me=Symbol("record-id");class Ss extends Nt{constructor(e){super(e),this.offset=0;let n,r,i,s,o;e=e||{};let a=si.prototype.utf8Write?function(b,F,I){return v.utf8Write(b,F,I)}:un&&un.encodeInto?function(b,F){return un.encodeInto(b,v.subarray(F)).written}:!1,c=this,u=e.structures||e.saveStructures,f=e.maxSharedStructures;if(f==null&&(f=u?128:0),f>8190)throw new Error("Maximum maxSharedStructure is 8190");let l=e.sequential;l&&(f=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let d,h,p=e.sharedValues,_;if(p){_=Object.create(null);for(let b=0,F=p.length;b<F;b++)_[p[b]]=b}let x=[],A=0,k=0;this.mapEncode=function(b,F){if(this._keyMap&&!this._mapped)switch(b.constructor.name){case"Array":b=b.map(I=>this.encodeKeys(I));break}return this.encode(b,F)},this.encode=function(b,F){if(v||(v=new Vn(8192),ie=new DataView(v.buffer,0,8192),y=0),Je=v.length-10,Je-y<2048?(v=new Vn(v.length),ie=new DataView(v.buffer,0,v.length),Je=v.length-10,y=0):F===li&&(y=y+7&2147483640),n=y,c.useSelfDescribedHeader&&(ie.setUint32(y,3654940416),y+=3),o=c.structuredClone?new Map:null,c.bundleStrings&&typeof b!="string"?(ue=[],ue.size=1/0):ue=null,r=c.structures,r){if(r.uninitialized){let R=c.getShared()||{};c.structures=r=R.structures||[],c.sharedVersion=R.version;let O=c.sharedValues=R.packedValues;if(O){_={};for(let z=0,H=O.length;z<H;z++)_[O[z]]=z}}let I=r.length;if(I>f&&!l&&(I=f),!r.transitions){r.transitions=Object.create(null);for(let R=0;R<I;R++){let O=r[R];if(!O)continue;let z,H=r.transitions;for(let J=0,W=O.length;J<W;J++){H[me]===void 0&&(H[me]=R);let G=O[J];z=H[G],z||(z=H[G]=Object.create(null)),H=z}H[me]=R|1048576}}l||(r.nextId=I)}if(i&&(i=!1),s=r||[],h=_,e.pack){let I=new Map;if(I.values=[],I.encoder=c,I.maxValues=e.maxPrivatePackedValues||(_?16:1/0),I.objectMap=_||!1,I.samplingPackedValues=d,fn(b,I),I.values.length>0){v[y++]=216,v[y++]=51,Pe(4);let R=I.values;w(R),Pe(0),Pe(0),h=Object.create(_||null);for(let O=0,z=R.length;O<z;O++)h[R[O]]=O}}zn=F&Wn;try{if(zn)return;if(w(b),ue&&fi(n,w),c.offset=y,o&&o.idsToInsert){y+=o.idsToInsert.length*2,y>Je&&L(y),c.offset=y;let I=Gc(v.subarray(n,y),o.idsToInsert);return o=null,I}return F&li?(v.start=n,v.end=y,v):v.subarray(n,y)}finally{if(r){if(k<10&&k++,r.length>f&&(r.length=f),A>1e4)r.transitions=null,k=0,A=0,x.length>0&&(x=[]);else if(x.length>0&&!l){for(let I=0,R=x.length;I<R;I++)x[I][me]=void 0;x=[]}}if(i&&c.saveShared){c.structures.length>f&&(c.structures=c.structures.slice(0,f));let I=v.subarray(n,y);return c.updateSharedData()===!1?c.encode(b):I}F&qc&&(y=n)}},this.findCommonStringsToPack=()=>(d=new Map,_||(_=Object.create(null)),b=>{let F=b&&b.threshold||4,I=this.pack?b.maxPrivatePackedValues||16:0;p||(p=this.sharedValues=[]);for(let[R,O]of d)O.count>F&&(_[R]=I++,p.push(R),i=!0);for(;this.saveShared&&this.updateSharedData()===!1;);d=null});const w=b=>{y>Je&&(v=L(y));var F=typeof b,I;if(F==="string"){if(h){let H=h[b];if(H>=0){H<16?v[y++]=H+224:(v[y++]=198,H&1?w(15-H>>1):w(H-16>>1));return}else if(d&&!e.pack){let J=d.get(b);J?J.count++:d.set(b,{count:1})}}let R=b.length;if(ue&&R>=4&&R<1024){if((ue.size+=R)>Hc){let J,W=(ue[0]?ue[0].length*3+ue[1].length:0)+10;y+W>Je&&(v=L(y+W)),v[y++]=217,v[y++]=223,v[y++]=249,v[y++]=ue.position?132:130,v[y++]=26,J=y-n,y+=4,ue.position&&fi(n,w),ue=["",""],ue.size=0,ue.position=J}let H=Wc.test(b);ue[H?0:1]+=b,v[y++]=H?206:207,w(R);return}let O;R<32?O=1:R<256?O=2:R<65536?O=3:O=5;let z=R*3;if(y+z>Je&&(v=L(y+z)),R<64||!a){let H,J,W,G=y+O;for(H=0;H<R;H++)J=b.charCodeAt(H),J<128?v[G++]=J:J<2048?(v[G++]=J>>6|192,v[G++]=J&63|128):(J&64512)===55296&&((W=b.charCodeAt(H+1))&64512)===56320?(J=65536+((J&1023)<<10)+(W&1023),H++,v[G++]=J>>18|240,v[G++]=J>>12&63|128,v[G++]=J>>6&63|128,v[G++]=J&63|128):(v[G++]=J>>12|224,v[G++]=J>>6&63|128,v[G++]=J&63|128);I=G-y-O}else I=a(b,y+O,z);I<24?v[y++]=96|I:I<256?(O<2&&v.copyWithin(y+2,y+1,y+1+I),v[y++]=120,v[y++]=I):I<65536?(O<3&&v.copyWithin(y+3,y+2,y+2+I),v[y++]=121,v[y++]=I>>8,v[y++]=I&255):(O<5&&v.copyWithin(y+5,y+3,y+3+I),v[y++]=122,ie.setUint32(y,I),y+=4),y+=I}else if(F==="number")if(!this.alwaysUseFloat&&b>>>0===b)b<24?v[y++]=b:b<256?(v[y++]=24,v[y++]=b):b<65536?(v[y++]=25,v[y++]=b>>8,v[y++]=b&255):(v[y++]=26,ie.setUint32(y,b),y+=4);else if(!this.alwaysUseFloat&&b>>0===b)b>=-24?v[y++]=31-b:b>=-256?(v[y++]=56,v[y++]=~b):b>=-65536?(v[y++]=57,ie.setUint16(y,~b),y+=2):(v[y++]=58,ie.setUint32(y,~b),y+=4);else{let R;if((R=this.useFloat32)>0&&b<4294967296&&b>=-2147483648){v[y++]=250,ie.setFloat32(y,b);let O;if(R<4||(O=b*Mr[(v[y]&127)<<1|v[y+1]>>7])>>0===O){y+=4;return}else y--}v[y++]=251,ie.setFloat64(y,b),y+=8}else if(F==="object")if(!b)v[y++]=246;else{if(o){let O=o.get(b);if(O){if(v[y++]=216,v[y++]=29,v[y++]=25,!O.references){let z=o.idsToInsert||(o.idsToInsert=[]);O.references=[],z.push(O)}O.references.push(y-n),y+=2;return}else o.set(b,{offset:y-n})}let R=b.constructor;if(R===Object)P(b,!0);else if(R===Array){I=b.length,I<24?v[y++]=128|I:Pe(I);for(let O=0;O<I;O++)w(b[O])}else if(R===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(v[y++]=217,v[y++]=1,v[y++]=3),I=b.size,I<24?v[y++]=160|I:I<256?(v[y++]=184,v[y++]=I):I<65536?(v[y++]=185,v[y++]=I>>8,v[y++]=I&255):(v[y++]=186,ie.setUint32(y,I),y+=4),c.keyMap)for(let[O,z]of b)w(c.encodeKey(O)),w(z);else for(let[O,z]of b)w(O),w(z);else{for(let O=0,z=hr.length;O<z;O++){let H=xs[O];if(b instanceof H){let J=hr[O],W=J.tag;W==null&&(W=J.getTag&&J.getTag.call(this,b)),W<24?v[y++]=192|W:W<256?(v[y++]=216,v[y++]=W):W<65536?(v[y++]=217,v[y++]=W>>8,v[y++]=W&255):W>-1&&(v[y++]=218,ie.setUint32(y,W),y+=4),J.encode.call(this,b,w,L);return}}if(b[Symbol.iterator]){if(zn){let O=new Error("Iterable should be serialized as iterator");throw O.iteratorNotHandled=!0,O}v[y++]=159;for(let O of b)w(O);v[y++]=255;return}if(b[Symbol.asyncIterator]||Hn(b)){let O=new Error("Iterable/blob should be serialized as iterator");throw O.iteratorNotHandled=!0,O}if(this.useToJSON&&b.toJSON){const O=b.toJSON();if(O!==b)return w(O)}P(b,!b.hasOwnProperty)}}else if(F==="boolean")v[y++]=b?245:244;else if(F==="bigint"){if(b<BigInt(1)<<BigInt(64)&&b>=0)v[y++]=27,ie.setBigUint64(y,b);else if(b>-(BigInt(1)<<BigInt(64))&&b<0)v[y++]=59,ie.setBigUint64(y,-b-BigInt(1));else if(this.largeBigIntToFloat)v[y++]=251,ie.setFloat64(y,Number(b));else throw new RangeError(b+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");y+=8}else if(F==="undefined")v[y++]=247;else throw new Error("Unknown type: "+F)},P=this.useRecords===!1?this.variableMapSize?b=>{let F=Object.keys(b),I=Object.values(b),R=F.length;if(R<24?v[y++]=160|R:R<256?(v[y++]=184,v[y++]=R):R<65536?(v[y++]=185,v[y++]=R>>8,v[y++]=R&255):(v[y++]=186,ie.setUint32(y,R),y+=4),c.keyMap)for(let O=0;O<R;O++)w(c.encodeKey(F[O])),w(I[O]);else for(let O=0;O<R;O++)w(F[O]),w(I[O])}:(b,F)=>{v[y++]=185;let I=y-n;y+=2;let R=0;if(c.keyMap)for(let O in b)(F||b.hasOwnProperty(O))&&(w(c.encodeKey(O)),w(b[O]),R++);else for(let O in b)(F||b.hasOwnProperty(O))&&(w(O),w(b[O]),R++);v[I+++n]=R>>8,v[I+n]=R&255}:(b,F)=>{let I,R=s.transitions||(s.transitions=Object.create(null)),O=0,z=0,H,J;if(this.keyMap){J=Object.keys(b).map(G=>this.encodeKey(G)),z=J.length;for(let G=0;G<z;G++){let Ht=J[G];I=R[Ht],I||(I=R[Ht]=Object.create(null),O++),R=I}}else for(let G in b)(F||b.hasOwnProperty(G))&&(I=R[G],I||(R[me]&1048576&&(H=R[me]&65535),I=R[G]=Object.create(null),O++),R=I,z++);let W=R[me];if(W!==void 0)W&=65535,v[y++]=217,v[y++]=W>>8|224,v[y++]=W&255;else if(J||(J=R.__keys__||(R.__keys__=Object.keys(b))),H===void 0?(W=s.nextId++,W||(W=0,s.nextId=1),W>=oi&&(s.nextId=(W=f)+1)):W=H,s[W]=J,W<f){v[y++]=217,v[y++]=W>>8|224,v[y++]=W&255,R=s.transitions;for(let G=0;G<z;G++)(R[me]===void 0||R[me]&1048576)&&(R[me]=W),R=R[J[G]];R[me]=W|1048576,i=!0}else{if(R[me]=W,ie.setUint32(y,3655335680),y+=3,O&&(A+=k*O),x.length>=oi-f&&(x.shift()[me]=void 0),x.push(R),Pe(z+2),w(57344+W),w(J),F===null)return;for(let G in b)(F||b.hasOwnProperty(G))&&w(b[G]);return}if(z<24?v[y++]=128|z:Pe(z),F!==null)for(let G in b)(F||b.hasOwnProperty(G))&&w(b[G])},L=b=>{let F;if(b>16777216){if(b-n>ai)throw new Error("Encoded buffer would be larger than maximum buffer size");F=Math.min(ai,Math.round(Math.max((b-n)*(b>67108864?1.25:2),4194304)/4096)*4096)}else F=(Math.max(b-n<<2,v.length-1)>>12)+1<<12;let I=new Vn(F);return ie=new DataView(I.buffer,0,F),v.copy?v.copy(I,0,n,b):I.set(v.slice(n,b)),y-=n,n=0,Je=I.length-10,v=I};let E=100,j=1e3;this.encodeAsIterable=function(b,F){return V(b,F,U)},this.encodeAsAsyncIterable=function(b,F){return V(b,F,K)};function*U(b,F,I){let R=b.constructor;if(R===Object){let O=c.useRecords!==!1;O?P(b,null):ci(Object.keys(b).length,160);for(let z in b){let H=b[z];O||w(z),H&&typeof H=="object"?F[z]?yield*U(H,F[z]):yield*D(H,F,z):w(H)}}else if(R===Array){let O=b.length;Pe(O);for(let z=0;z<O;z++){let H=b[z];H&&(typeof H=="object"||y-n>E)?F.element?yield*U(H,F.element):yield*D(H,F,"element"):w(H)}}else if(b[Symbol.iterator]){v[y++]=159;for(let O of b)O&&(typeof O=="object"||y-n>E)?F.element?yield*U(O,F.element):yield*D(O,F,"element"):w(O);v[y++]=255}else Hn(b)?(ci(b.size,64),yield v.subarray(n,y),yield b,B()):b[Symbol.asyncIterator]?(v[y++]=159,yield v.subarray(n,y),yield b,B(),v[y++]=255):w(b);I&&y>n?yield v.subarray(n,y):y-n>E&&(yield v.subarray(n,y),B())}function*D(b,F,I){let R=y-n;try{w(b),y-n>E&&(yield v.subarray(n,y),B())}catch(O){if(O.iteratorNotHandled)F[I]={},y=n+R,yield*U.call(this,b,F[I]);else throw O}}function B(){E=j,c.encode(null,Wn)}function V(b,F,I){return F&&F.chunkThreshold?E=j=F.chunkThreshold:E=100,b&&typeof b=="object"?(c.encode(null,Wn),I(b,c.iterateProperties||(c.iterateProperties={}),!0)):[c.encode(b)]}async function*K(b,F){for(let I of U(b,F,!0)){let R=I.constructor;if(R===si||R===Uint8Array)yield I;else if(Hn(I)){let O=I.stream().getReader(),z;for(;!(z=await O.read()).done;)yield z.value}else if(I[Symbol.asyncIterator])for await(let O of I)B(),O?yield*K(O,F.async||(F.async={})):yield c.encode(O);else yield I}}}useBuffer(e){v=e,ie=new DataView(v.buffer,v.byteOffset,v.byteLength),y=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let n=this.structures.slice(0),r=new Es(n,this.sharedValues,this.sharedVersion),i=this.saveShared(r,s=>(s&&s.version||0)==e);return i===!1?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):n.forEach((s,o)=>this.structures[o]=s),i}}function ci(t,e){t<24?v[y++]=e|t:t<256?(v[y++]=e|24,v[y++]=t):t<65536?(v[y++]=e|25,v[y++]=t>>8,v[y++]=t&255):(v[y++]=e|26,ie.setUint32(y,t),y+=4)}class Es{constructor(e,n,r){this.structures=e,this.packedValues=n,this.version=r}}function Pe(t){t<24?v[y++]=128|t:t<256?(v[y++]=152,v[y++]=t):t<65536?(v[y++]=153,v[y++]=t>>8,v[y++]=t&255):(v[y++]=154,ie.setUint32(y,t),y+=4)}const Kc=typeof Blob>"u"?function(){}:Blob;function Hn(t){if(t instanceof Kc)return!0;let e=t[Symbol.toStringTag];return e==="Blob"||e==="File"}function fn(t,e){switch(typeof t){case"string":if(t.length>3){if(e.objectMap[t]>-1||e.values.length>=e.maxValues)return;let r=e.get(t);if(r)++r.count==2&&e.values.push(t);else if(e.set(t,{count:1}),e.samplingPackedValues){let i=e.samplingPackedValues.get(t);i?i.count++:e.samplingPackedValues.set(t,{count:1})}}break;case"object":if(t)if(t instanceof Array)for(let r=0,i=t.length;r<i;r++)fn(t[r],e);else{let r=!e.encoder.useRecords;for(var n in t)t.hasOwnProperty(n)&&(r&&fn(n,e),fn(t[n],e))}break;case"function":console.log(t)}}const Jc=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;xs=[Date,Set,Error,RegExp,Qe,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,Es];hr=[{tag:1,encode(t,e){let n=t.getTime()/1e3;(this.useTimestamp32||t.getMilliseconds()===0)&&n>=0&&n<4294967296?(v[y++]=26,ie.setUint32(y,n),y+=4):(v[y++]=251,ie.setFloat64(y,n),y+=8)}},{tag:258,encode(t,e){let n=Array.from(t);e(n)}},{tag:27,encode(t,e){e([t.name,t.message])}},{tag:27,encode(t,e){e(["RegExp",t.source,t.flags])}},{getTag(t){return t.tag},encode(t,e){e(t.value)}},{encode(t,e,n){ui(t,n)}},{getTag(t){if(t.constructor===Uint8Array&&(this.tagUint8Array||zt&&this.tagUint8Array!==!1))return 64},encode(t,e,n){ui(t,n)}},Me(68,1),Me(69,2),Me(70,4),Me(71,8),Me(72,1),Me(77,2),Me(78,4),Me(79,8),Me(85,4),Me(86,8),{encode(t,e){let n=t.packedValues||[],r=t.structures||[];if(n.values.length>0){v[y++]=216,v[y++]=51,Pe(4);let i=n.values;e(i),Pe(0),Pe(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let s=0,o=i.length;s<o;s++)packedObjectMap[i[s]]=s}if(r){ie.setUint32(y,3655335424),y+=3;let i=r.slice(0);i.unshift(57344),i.push(new Qe(t.version,1399353956)),e(i)}else e(new Qe(t.version,1399353956))}}];function Me(t,e){return!Jc&&e>1&&(t-=4),{tag:t,encode:function(r,i){let s=r.byteLength,o=r.byteOffset||0,a=r.buffer||r;i(zt?Un.from(a,o,s):new Uint8Array(a,o,s))}}}function ui(t,e){let n=t.byteLength;n<24?v[y++]=64+n:n<256?(v[y++]=88,v[y++]=n):n<65536?(v[y++]=89,v[y++]=n>>8,v[y++]=n&255):(v[y++]=90,ie.setUint32(y,n),y+=4),y+n>=v.length&&e(y+n),v.set(t.buffer?t:new Uint8Array(t),y),y+=n}function Gc(t,e){let n,r=e.length*2,i=t.length-r;e.sort((s,o)=>s.offset>o.offset?1:-1);for(let s=0;s<e.length;s++){let o=e[s];o.id=s;for(let a of o.references)t[a++]=s>>8,t[a]=s&255}for(;n=e.pop();){let s=n.offset;t.copyWithin(s+r,s,i),r-=2;let o=s+r;t[o++]=216,t[o++]=28,i=s}return t}function fi(t,e){ie.setUint32(ue.position+t,y-ue.position-t+1);let n=ue;ue=null,e(n[0]),e(n[1])}let Pr=new Ss({useRecords:!1});Pr.encode;Pr.encodeAsIterable;Pr.encodeAsAsyncIterable;const li=512,qc=1024,Wn=2048;function As(t){return new Ss({tagUint8Array:!1}).encode(t)}function Xc(t){return ms(t)}class Yc extends Bt{documentId;#t;#e;#i;get url(){return Rn({documentId:this.documentId})}constructor(e,{isNew:n=!1,timeoutDelay:r=6e4}={}){super(),this.documentId=e,this.#i=r,this.#t=Ve(`automerge-repo:dochandle:${this.documentId.slice(0,5)}`);let i=xr();n&&(i=Ci(i,{})),this.#e=is(Ya({predictableActionArguments:!0,id:"docHandle",initial:Zc,context:{documentId:this.documentId,doc:i},states:{idle:{on:{CREATE:{target:Fe},FIND:{target:Kn},DELETE:{actions:"onDelete",target:mt}}},loading:{on:{UPDATE:{actions:"onUpdate",target:Fe},REQUEST:{target:ut},AWAIT_NETWORK:{target:di},DELETE:{actions:"onDelete",target:mt}},after:[{delay:this.#i,target:hi}]},awaitingNetwork:{on:{NETWORK_READY:{target:ut}}},requesting:{on:{MARK_UNAVAILABLE:{target:xn,actions:"onUnavailable"},UPDATE:{actions:"onUpdate"},REQUEST_COMPLETE:{target:Fe},DELETE:{actions:"onDelete",target:mt}},after:[{delay:this.#i,target:hi}]},ready:{on:{UPDATE:{actions:"onUpdate",target:Fe},DELETE:{actions:"onDelete",target:mt}}},failed:{type:"final"},deleted:{type:"final"},unavailable:{on:{UPDATE:{actions:"onUpdate"},REQUEST_COMPLETE:{target:Fe},DELETE:{actions:"onDelete",target:mt}}}}},{actions:{onUpdate:Fn((s,{payload:o})=>{const{doc:a}=s,{callback:c}=o;return{doc:c(a)}}),onDelete:Fn(()=>(this.emit("delete",{handle:this}),{doc:void 0})),onUnavailable:Fn(s=>{const{doc:o}=s;return this.emit("unavailable",{handle:this}),{doc:o}})}})).onTransition(({value:s,history:o,context:a},c)=>{const u=o?.context?.doc,f=a.doc;if(this.#t(`${o?.value}: ${c.type} â ${s}`,f),f&&u&&!as(Ie(f),Ie(u))){this.emit("heads-changed",{handle:this,doc:f});const d=Ri(f,Ie(u),Ie(f));if(d.length>0){const h="change";this.emit("change",{handle:this,doc:f,patches:d,patchInfo:{before:u,after:f,source:h}})}this.isReady()||this.#e.send(iu)}}).start(),this.#e.send(n?eu:tu)}get#r(){return this.#e?.getSnapshot().context.doc}get#n(){return this.#e?.getSnapshot().value}#s(e){return Array.isArray(e)||(e=[e]),Promise.any(e.map(n=>ec(this.#e,r=>r.matches(n),{timeout:this.#i*2e3})))}isReady=()=>this.inState([ln.READY]);isDeleted=()=>this.inState([ln.DELETED]);isUnavailable=()=>this.inState([ln.UNAVAILABLE]);inState=e=>e.some(this.#e?.getSnapshot().matches);get state(){return this.#e?.getSnapshot().value}async whenReady(e=[Fe]){await rc(this.#s(e),this.#i)}async doc(e=[Fe,xn]){await nc();try{await this.#s(e)}catch(n){throw n instanceof cs?new Error(`DocHandle: timed out loading ${this.documentId}`):n}return this.isUnavailable()?void 0:this.#r}docSync(){if(this.isReady())return this.#r}update(e){this.#e.send(Jn,{payload:{callback:e}})}change(e,n={}){if(!this.isReady())throw new Error(`DocHandle#${this.documentId} is not ready. Check \`handle.isReady()\` before accessing the document.`);this.#e.send(Jn,{payload:{callback:r=>Ai(r,n,e)}})}changeAt(e,n,r={}){if(!this.isReady())throw new Error(`DocHandle#${this.documentId} is not ready. Check \`handle.isReady()\` before accessing the document.`);let i;return this.#e.send(Jn,{payload:{callback:s=>{const o=ki(s,e,r,n);return i=o.newHeads,o.newDoc}}}),i}unavailable(){this.#e.send(su)}request(){this.#n===Kn&&this.#e.send(nu)}awaitNetwork(){this.#n===Kn&&this.#e.send(ou)}networkReady(){this.#n===di&&this.#e.send(au)}delete(){this.#e.send(ru)}broadcast(e){this.emit("ephemeral-message-outbound",{handle:this,data:As(e)})}}const ln={IDLE:"idle",LOADING:"loading",AWAITING_NETWORK:"awaitingNetwork",REQUESTING:"requesting",READY:"ready",FAILED:"failed",DELETED:"deleted",UNAVAILABLE:"unavailable"},Qc={CREATE:"CREATE",FIND:"FIND",REQUEST:"REQUEST",REQUEST_COMPLETE:"REQUEST_COMPLETE",AWAIT_NETWORK:"AWAIT_NETWORK",NETWORK_READY:"NETWORK_READY",UPDATE:"UPDATE",TIMEOUT:"TIMEOUT",DELETE:"DELETE",MARK_UNAVAILABLE:"MARK_UNAVAILABLE"},{IDLE:Zc,LOADING:Kn,AWAITING_NETWORK:di,REQUESTING:ut,READY:Fe,FAILED:hi,DELETED:mt,UNAVAILABLE:xn}=ln,{CREATE:eu,FIND:tu,REQUEST:nu,UPDATE:Jn,TIMEOUT:Au,DELETE:ru,REQUEST_COMPLETE:iu,MARK_UNAVAILABLE:su,AWAIT_NETWORK:ou,NETWORK_READY:au}=Qc;class cu extends Bt{peerId}function ks(t){return typeof t=="object"&&typeof t.type=="string"&&typeof t.senderId=="string"&&(fu(t)||gr(t)||Cs(t)||uu(t))}function uu(t){return t.type==="doc-unavailable"}function Cs(t){return t.type==="request"}function fu(t){return t.type==="sync"}function gr(t){return t.type==="ephemeral"}const lu=t=>`${t.senderId}:${t.sessionId}`;class du extends Bt{peerId;#t;#e={};#i=0;#r=Math.random().toString(36).slice(2);#n={};#s=0;#o=[];constructor(e,n=hu()){super(),this.peerId=n,this.#t=Ve(`automerge-repo:network:${this.peerId}`),e.forEach(r=>this.addNetworkAdapter(r))}addNetworkAdapter(e){this.#o.push(e),e.once("ready",()=>{this.#s++,this.#t("Adapters ready: ",this.#s,"/",this.#o.length),this.#s===this.#o.length&&this.emit("ready")}),e.on("peer-candidate",({peerId:n})=>{this.#t(`peer candidate: ${n} `),this.#e[n]||(this.#e[n]=e),this.emit("peer",{peerId:n})}),e.on("peer-disconnected",({peerId:n})=>{this.#t(`peer disconnected: ${n} `),delete this.#e[n],this.emit("peer-disconnected",{peerId:n})}),e.on("message",n=>{if(!ks(n)){this.#t(`invalid message: ${JSON.stringify(n)}`);return}if(this.#t(`message from ${n.senderId}`),gr(n)){const r=lu(n);(this.#n[r]===void 0||n.count>this.#n[r])&&(this.#n[r]=n.count,this.emit("message",n));return}this.emit("message",n)}),e.on("close",()=>{this.#t("adapter closed"),Object.entries(this.#e).forEach(([n,r])=>{r===e&&delete this.#e[n]})}),e.connect(this.peerId)}send(e){const n=this.#e[e.targetId];if(!n){this.#t(`Tried to send message but peer not found: ${e.targetId}`);return}if(this.#t(`Sending message to ${e.targetId}`),gr(e)){const r="count"in e?e:{...e,count:++this.#i,sessionId:this.#r,senderId:this.peerId};this.#t("Ephemeral message",r),n.send(r)}else{const r={...e,senderId:this.peerId};this.#t("Sync message",r),n.send(r)}}isReady=()=>this.#s===this.#o.length;whenReady=async()=>{if(!this.isReady())return new Promise(e=>{this.once("ready",()=>{e()})})}}function hu(){return`user-${Math.round(Math.random()*1e5)}`}var Os={exports:{}};(function(t){(function(e,n){var r={};n(r);var i=r.default;for(var s in r)i[s]=r[s];t.exports=i})(Yo,function(e){e.__esModule=!0,e.digestLength=32,e.blockSize=64;var n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(d,h,p,_,x){for(var A,k,w,P,L,E,j,U,D,B,V,K,b;x>=64;){for(A=h[0],k=h[1],w=h[2],P=h[3],L=h[4],E=h[5],j=h[6],U=h[7],B=0;B<16;B++)V=_+B*4,d[B]=(p[V]&255)<<24|(p[V+1]&255)<<16|(p[V+2]&255)<<8|p[V+3]&255;for(B=16;B<64;B++)D=d[B-2],K=(D>>>17|D<<32-17)^(D>>>19|D<<32-19)^D>>>10,D=d[B-15],b=(D>>>7|D<<32-7)^(D>>>18|D<<32-18)^D>>>3,d[B]=(K+d[B-7]|0)+(b+d[B-16]|0);for(B=0;B<64;B++)K=(((L>>>6|L<<32-6)^(L>>>11|L<<32-11)^(L>>>25|L<<32-25))+(L&E^~L&j)|0)+(U+(n[B]+d[B]|0)|0)|0,b=((A>>>2|A<<32-2)^(A>>>13|A<<32-13)^(A>>>22|A<<32-22))+(A&k^A&w^k&w)|0,U=j,j=E,E=L,L=P+K|0,P=w,w=k,k=A,A=K+b|0;h[0]+=A,h[1]+=k,h[2]+=w,h[3]+=P,h[4]+=L,h[5]+=E,h[6]+=j,h[7]+=U,_+=64,x-=64}return _}var i=function(){function d(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return d.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},d.prototype.clean=function(){for(var h=0;h<this.buffer.length;h++)this.buffer[h]=0;for(var h=0;h<this.temp.length;h++)this.temp[h]=0;this.reset()},d.prototype.update=function(h,p){if(p===void 0&&(p=h.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var _=0;if(this.bytesHashed+=p,this.bufferLength>0){for(;this.bufferLength<64&&p>0;)this.buffer[this.bufferLength++]=h[_++],p--;this.bufferLength===64&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(p>=64&&(_=r(this.temp,this.state,h,_,p),p%=64);p>0;)this.buffer[this.bufferLength++]=h[_++],p--;return this},d.prototype.finish=function(h){if(!this.finished){var p=this.bytesHashed,_=this.bufferLength,x=p/536870912|0,A=p<<3,k=p%64<56?64:128;this.buffer[_]=128;for(var w=_+1;w<k-8;w++)this.buffer[w]=0;this.buffer[k-8]=x>>>24&255,this.buffer[k-7]=x>>>16&255,this.buffer[k-6]=x>>>8&255,this.buffer[k-5]=x>>>0&255,this.buffer[k-4]=A>>>24&255,this.buffer[k-3]=A>>>16&255,this.buffer[k-2]=A>>>8&255,this.buffer[k-1]=A>>>0&255,r(this.temp,this.state,this.buffer,0,k),this.finished=!0}for(var w=0;w<8;w++)h[w*4+0]=this.state[w]>>>24&255,h[w*4+1]=this.state[w]>>>16&255,h[w*4+2]=this.state[w]>>>8&255,h[w*4+3]=this.state[w]>>>0&255;return this},d.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},d.prototype._saveState=function(h){for(var p=0;p<this.state.length;p++)h[p]=this.state[p]},d.prototype._restoreState=function(h,p){for(var _=0;_<this.state.length;_++)this.state[_]=h[_];this.bytesHashed=p,this.finished=!1,this.bufferLength=0},d}();e.Hash=i;var s=function(){function d(h){this.inner=new i,this.outer=new i,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var p=new Uint8Array(this.blockSize);if(h.length>this.blockSize)new i().update(h).finish(p).clean();else for(var _=0;_<h.length;_++)p[_]=h[_];for(var _=0;_<p.length;_++)p[_]^=54;this.inner.update(p);for(var _=0;_<p.length;_++)p[_]^=106;this.outer.update(p),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var _=0;_<p.length;_++)p[_]=0}return d.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},d.prototype.clean=function(){for(var h=0;h<this.istate.length;h++)this.ostate[h]=this.istate[h]=0;this.inner.clean(),this.outer.clean()},d.prototype.update=function(h){return this.inner.update(h),this},d.prototype.finish=function(h){return this.outer.finished?this.outer.finish(h):(this.inner.finish(h),this.outer.update(h,this.digestLength).finish(h)),this},d.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},d}();e.HMAC=s;function o(d){var h=new i().update(d),p=h.digest();return h.clean(),p}e.hash=o,e.default=o;function a(d,h){var p=new s(d).update(h),_=p.digest();return p.clean(),_}e.hmac=a;function c(d,h,p,_){var x=_[0];if(x===0)throw new Error("hkdf: cannot expand more");h.reset(),x>1&&h.update(d),p&&h.update(p),h.update(_),h.finish(d),_[0]++}var u=new Uint8Array(e.digestLength);function f(d,h,p,_){h===void 0&&(h=u),_===void 0&&(_=32);for(var x=new Uint8Array([1]),A=a(h,d),k=new s(A),w=new Uint8Array(k.digestLength),P=w.length,L=new Uint8Array(_),E=0;E<_;E++)P===w.length&&(c(w,k,p,x),P=0),L[E]=w[P++];return k.clean(),w.fill(0),x.fill(0),L}e.hkdf=f;function l(d,h,p,_){for(var x=new s(d),A=x.digestLength,k=new Uint8Array(4),w=new Uint8Array(A),P=new Uint8Array(A),L=new Uint8Array(_),E=0;E*A<_;E++){var j=E+1;k[0]=j>>>24&255,k[1]=j>>>16&255,k[2]=j>>>8&255,k[3]=j>>>0&255,x.reset(),x.update(h),x.update(k),x.finish(P);for(var U=0;U<A;U++)w[U]=P[U];for(var U=2;U<=p;U++){x.reset(),x.update(P).finish(P);for(var D=0;D<A;D++)w[D]^=P[D]}for(var U=0;U<A&&E*A+U<_;U++)L[E*A+U]=w[U]}for(var E=0;E<A;E++)w[E]=P[E]=0;for(var E=0;E<4;E++)k[E]=0;return x.clean(),L}e.pbkdf2=l})})(Os);var gu=Os.exports;function Is(t){let e=0;t.forEach(i=>{e+=i.length});const n=new Uint8Array(e);let r=0;return t.forEach(i=>{n.set(i,r),r+=i.length}),n}function js(t){const e=gu.hash(t);return Array.from(new Uint8Array(e)).map(i=>("00"+i.toString(16)).slice(-2)).join("")}function yu(t){let e=new TextEncoder,n=Is(t.map(r=>e.encode(r)));return js(n)}class pu{#t;#e=new Map;#i=new Map;#r=Ve("automerge-repo:storage-subsystem");#n=!1;constructor(e){this.#t=e}async#s(e,n){const r=$i(n,this.#i.get(e)??[]);if(r&&r.length>0){const i=[e,"incremental",js(r)];this.#r(`Saving incremental ${i} for document ${e}`),await this.#t.save(i,r),this.#e.has(e)||this.#e.set(e,[]),this.#e.get(e).push({key:i,type:"incremental",size:r.length}),this.#i.set(e,Ie(n))}else return Promise.resolve()}async#o(e,n,r){this.#n=!0;const i=Oi(n),s=yu(Ie(n)),o=[e,"snapshot",s],a=new Set(r.map(u=>u.key).filter(u=>u[2]!==s));this.#r(`Saving snapshot ${o} for document ${e}`),this.#r(`deleting old chunks ${Array.from(a)}`),await this.#t.save(o,i);for(const u of a)await this.#t.remove(u);const c=this.#e.get(e)?.filter(u=>!a.has(u.key))??[];c.push({key:o,type:"snapshot",size:i.length}),this.#e.set(e,c),this.#n=!1}async loadDoc(e){const n=await this.#t.loadRange([e]),r=[],i=[];for(const a of n){const c=_u(a.key);c!=null&&(i.push({key:a.key,type:c,size:a.data.length}),r.push(a.data))}this.#e.set(e,i);const s=Is(r);if(s.length===0)return null;const o=mr(xr(),s);return this.#i.set(e,Ie(o)),o}async saveDoc(e,n){if(!this.#a(e,n))return;let r=this.#e.get(e)??[];this.#u(r)?this.#o(e,n,r):this.#s(e,n),this.#i.set(e,Ie(n))}async remove(e){this.#t.removeRange([e,"snapshot"]),this.#t.removeRange([e,"incremental"])}#a(e,n){const r=this.#i.get(e);if(!r)return!0;const i=Ie(n);return!as(i,r)}#u(e){if(this.#n)return!1;let n=0,r=0;for(const i of e)i.type==="snapshot"?n+=i.size:r+=i.size;return r>=n}}function _u(t){if(t.length<2)return null;const e=t[t.length-2];return e==="snapshot"||e==="incremental"?e:null}class Ts extends Bt{}class bu extends Ts{handle;#t;#e;#i;#r=[];#n={};#s={};#o=[];#a=!1;constructor(e){super(),this.handle=e;const n=e.documentId.slice(0,5);this.#e=Ve(`automerge-repo:concise:docsync:${n}`),this.#t=Ve(`automerge-repo:docsync:${n}`),this.#i=Ve(`automerge-repo:ops:docsync:${n}`),e.on("change",()=>this.#u()),e.on("ephemeral-message-outbound",r=>this.#y(r)),(async()=>(await e.doc([Fe,ut]),this.#g()))()}get peerStates(){return this.#n}get documentId(){return this.handle.documentId}async#u(){this.#t("syncWithPeers");const e=await this.handle.doc();e!==void 0&&this.#r.forEach(n=>this.#d(n,e))}async#y({data:e}){this.#t("broadcastToPeers",this.#r),this.#r.forEach(n=>this.#p(n,e))}#p(e,n){this.#t(`sendEphemeralMessage ->${e}`),this.emit("message",{type:"ephemeral",targetId:e,documentId:this.handle.documentId,data:n})}#f(e){return this.#r.includes(e)||(this.#t("adding a new peer",e),this.#r.push(e)),e in this.#n||(this.#n[e]="unknown"),this.#s[e]??Ni()}#l(e,n){this.#s[e]=n}#d(e,n){this.#t(`sendSyncMessage ->${e}`);const r=this.#f(e),[i,s]=Pi(n,r);if(this.#l(e,i),s){this.#_(`sendSyncMessage ð¡ ${e}`,s);const o=Yn(s);!this.handle.isReady()&&o.heads.length===0&&i.sharedHeads.length===0&&!Object.values(this.#n).includes("has")&&this.#n[e]==="unknown"?this.emit("message",{type:"request",targetId:e,documentId:this.handle.documentId,data:s}):this.emit("message",{type:"sync",targetId:e,data:s,documentId:this.handle.documentId}),o.heads.length>0&&(this.#n[e]="has")}}#_=(e,n)=>{};hasPeer(e){return this.#r.includes(e)}beginSync(e){this.#t(`beginSync: ${e.join(", ")}`),e.forEach(n=>{const r=this.#f(n),i=Di(Mi(r));this.#l(n,i)}),this.handle.doc([Fe,ut,xn]).then(n=>{this.#a=!0,this.#c(),n!==void 0&&e.forEach(r=>{this.#d(r,n)})})}endSync(e){this.#t(`removing peer ${e}`),this.#r=this.#r.filter(n=>n!==e)}receiveMessage(e){switch(e.type){case"sync":case"request":this.receiveSyncMessage(e);break;case"ephemeral":this.receiveEphemeralMessage(e);break;case"doc-unavailable":this.#n[e.senderId]="unavailable",this.#c();break;default:throw new Error(`unknown message type: ${e}`)}}receiveEphemeralMessage(e){if(e.documentId!==this.handle.documentId)throw new Error("channelId doesn't match documentId");const{senderId:n,data:r}=e,i=ms(r);this.handle.emit("ephemeral-message",{handle:this.handle,senderId:n,message:i}),this.#r.forEach(s=>{s!==n&&this.emit("message",{...e,targetId:s})})}receiveSyncMessage(e){if(e.documentId!==this.handle.documentId)throw new Error("channelId doesn't match documentId");if(!this.handle.inState([Fe,ut,xn])){this.#o.push(e);return}this.#g(),this.#h(e)}#h(e){Cs(e)&&(this.#n[e.senderId]="wants"),this.#c(),Yn(e.data).heads.length>0&&(this.#n[e.senderId]="has"),this.handle.update(n=>{const[r,i]=Fi(n,this.#f(e.senderId),e.data);return this.#l(e.senderId,i),this.#d(e.senderId,n),r}),this.#c()}#c(){this.#a&&this.handle.inState([ut])&&this.#r.every(e=>this.#n[e]==="unavailable"||this.#n[e]==="wants")&&(this.#r.filter(e=>this.#n[e]==="wants").forEach(e=>{this.emit("message",{type:"doc-unavailable",documentId:this.handle.documentId,targetId:e})}),this.handle.unavailable())}#g(){for(const e of this.#o)this.#h(e);this.#o=[]}}const Gn=Ve("automerge-repo:collectionsync");class wu extends Ts{repo;#t=new Set;#e={};#i={};constructor(e){super(),this.repo=e}#r(e){if(!this.#e[e]){const n=this.repo.find(Rn({documentId:e}));this.#e[e]=this.#n(n)}return this.#e[e]}#n(e){const n=new bu(e);return n.on("message",r=>this.emit("message",r)),n}async#s(e){const n=Array.from(this.#t),r=[];for(const i of n)await this.repo.sharePolicy(i,e)&&r.push(i);return r}async receiveMessage(e){Gn(`onSyncMessage: ${e.senderId}, ${e.documentId}, ${"data"in e?e.data.byteLength+"bytes":""}`);const n=e.documentId;if(!n)throw new Error("received a message with an invalid documentId");this.#i[n]=!0;const r=this.#r(n);r.receiveMessage(e);const i=await this.#s(n);r.beginSync(i.filter(s=>!r.hasPeer(s)))}addDocument(e){if(this.#i[e])return;const n=this.#r(e);this.#s(e).then(r=>{n.beginSync(r)})}removeDocument(e){throw new Error("not implemented")}addPeer(e){if(Gn(`adding ${e} & synchronizing with them`),!this.#t.has(e)){this.#t.add(e);for(const n of Object.values(this.#e)){const{documentId:r}=n;this.repo.sharePolicy(e,r).then(i=>{i&&n.beginSync([e])})}}}removePeer(e){Gn(`removing peer ${e}`),this.#t.delete(e);for(const n of Object.values(this.#e))n.endSync(e)}}class ku extends Bt{#t;networkSubsystem;storageSubsystem;#e={};sharePolicy=async()=>!0;constructor({storage:e,network:n,peerId:r,sharePolicy:i}){super(),this.#t=Ve("automerge-repo:repo"),this.sharePolicy=i??this.sharePolicy,this.on("document",async({handle:c,isNew:u})=>{if(o)if(c.on("heads-changed",async({handle:f,doc:l})=>{await o.saveDoc(f.documentId,l)}),u)await o.saveDoc(c.documentId,c.docSync());else{const f=await o.loadDoc(c.documentId);f&&c.update(()=>f)}c.on("unavailable",()=>{this.#t("document unavailable",{documentId:c.documentId}),this.emit("unavailable-document",{documentId:c.documentId})}),this.networkSubsystem.isReady()?c.request():(c.awaitNetwork(),this.networkSubsystem.whenReady().then(()=>{c.networkReady()}).catch(f=>{this.#t("error waiting for network",{err:f})})),s.addDocument(c.documentId)}),this.on("delete-document",({documentId:c})=>{o&&o.remove(c).catch(u=>{this.#t("error deleting document",{documentId:c,err:u})})});const s=new wu(this);s.on("message",c=>{this.#t(`sending sync message to ${c.targetId}`),a.send(c)});const o=e?new pu(e):void 0;this.storageSubsystem=o;const a=new du(n,r);this.networkSubsystem=a,a.on("peer",async({peerId:c})=>{this.#t("peer connected",{peerId:c}),s.addPeer(c)}),a.on("peer-disconnected",({peerId:c})=>{s.removePeer(c)}),a.on("message",async c=>{await s.receiveMessage(c)})}#i(e,n){if(this.#e[e])return this.#e[e];if(!e)throw new Error(`Invalid documentId ${e}`);const r=new Yc(e,{isNew:n});return this.#e[e]=r,r}get handles(){return this.#e}create(){const{documentId:e}=Bn(Cc()),n=this.#i(e,!0);return this.emit("document",{handle:n,isNew:!0}),n}find(e){if(!Zr(e)){let i=jc(e);if(i)console.warn("Legacy UUID document ID detected, converting to AutomergeUrl. This will be removed in a future version."),e=i;else throw new Error(`Invalid AutomergeUrl: '${e}'`)}const{documentId:n}=Bn(e);if(this.#e[n])return this.#e[n].isUnavailable()&&setTimeout(()=>{this.#e[n].emit("unavailable",{handle:this.#e[n]})}),this.#e[n];const r=this.#i(n,!1);return this.emit("document",{handle:r,isNew:!1}),r}delete(e){Zr(e)&&({documentId:e}=Bn(e)),this.#i(e,!1).delete(),delete this.#e[e],this.emit("delete-document",{documentId:e})}}class vu{}class Cu extends vu{database;store;dbPromise;constructor(e="automerge",n="documents"){super(),this.database=e,this.store=n,this.dbPromise=this.createDatabasePromise()}createDatabasePromise(){return new Promise((e,n)=>{const r=indexedDB.open(this.database,1);r.onerror=()=>{n(r.error)},r.onupgradeneeded=i=>{i.target.result.createObjectStore(this.store)},r.onsuccess=i=>{const s=i.target.result;e(s)}})}async load(e){const r=(await this.dbPromise).transaction(this.store),s=r.objectStore(this.store).get(e);return new Promise((o,a)=>{r.onerror=()=>{a(s.error)},s.onsuccess=c=>{const u=c.target.result;u&&typeof u=="object"&&"binary"in u?o(u.binary):o(void 0)}})}async save(e,n){const i=(await this.dbPromise).transaction(this.store,"readwrite");return i.objectStore(this.store).put({key:e,binary:n},e),new Promise((o,a)=>{i.onerror=()=>{a(i.error)},i.oncomplete=()=>{o()}})}async remove(e){const r=(await this.dbPromise).transaction(this.store,"readwrite");return r.objectStore(this.store).delete(e),new Promise((s,o)=>{r.onerror=()=>{o(r.error)},r.oncomplete=()=>{s()}})}async loadRange(e){const n=await this.dbPromise,r=e,i=[...e,"ï¿¿"],s=IDBKeyRange.bound(r,i),o=n.transaction(this.store),c=o.objectStore(this.store).openCursor(s),u=[];return new Promise((f,l)=>{o.onerror=()=>{l(c.error)},c.onsuccess=d=>{const h=d.target.result;h?(u.push({data:h.value.binary,key:h.key}),h.continue()):f(u)}})}async removeRange(e){const n=await this.dbPromise,r=e,i=[...e,"ï¿¿"],s=IDBKeyRange.bound(r,i),o=n.transaction(this.store,"readwrite");return o.objectStore(this.store).delete(s),new Promise((c,u)=>{o.onerror=()=>{u(o.error)},o.oncomplete=()=>{c()}})}}var ot=null;typeof WebSocket<"u"?ot=WebSocket:typeof MozWebSocket<"u"?ot=MozWebSocket:typeof global<"u"?ot=global.WebSocket||global.MozWebSocket:typeof window<"u"?ot=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ot=self.WebSocket||self.MozWebSocket);const qn=ot,mu="1",en=Ve("WebsocketClient");class xu extends cu{socket}class Ou extends xu{timerId;#t=!1;url;constructor(e){super(),this.url=e}connect(e){this.timerId||(this.timerId=setInterval(()=>this.connect(e),5e3)),this.peerId=e,this.socket=new qn(this.url),this.socket.binaryType="arraybuffer",this.socket.addEventListener("open",()=>{en(`@ ${this.url}: open`),clearInterval(this.timerId),this.timerId=void 0,this.join()}),this.socket.addEventListener("close",()=>{en(`${this.url}: close`),this.timerId||this.connect(e)}),this.socket.addEventListener("message",n=>this.receiveMessage(n.data)),setTimeout(()=>{this.#t||(this.#t=!0,this.emit("ready",{network:this}))},1e3),this.join()}join(){if(!this.socket)throw new Error("WTF, get a socket");this.socket.readyState===qn.OPEN?this.send(gi(this.peerId)):this.socket.addEventListener("open",()=>{if(!this.socket)throw new Error("WTF, get a socket");this.send(gi(this.peerId))},{once:!0})}disconnect(){if(!this.socket)throw new Error("WTF, get a socket");this.send({type:"leave",senderId:this.peerId})}send(e){if("data"in e&&e.data.byteLength===0)throw new Error("tried to send a zero-length message");if(!this.peerId)throw new Error("Why don't we have a PeerID?");if(!this.socket||this.socket.readyState!==qn.OPEN)throw new Error("Websocket Socket not ready!");const n=As(e),r=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);this.socket?.send(r)}announceConnection(e){if(!this.peerId)throw new Error("we should have a peer ID by now");this.#t||(this.#t=!0,this.emit("ready",{network:this})),this.emit("peer-candidate",{peerId:e})}receiveMessage(e){const n=Xc(new Uint8Array(e)),{type:r,senderId:i}=n;if(!this.socket)throw new Error("Missing socket at receiveMessage");if(e.byteLength===0)throw new Error("received a zero-length message");switch(r){case"peer":en(`peer: ${i}`),this.announceConnection(i);break;case"error":en(`error: ${n.message}`);break;default:if(!ks(n))throw new Error("Invalid message received");this.emit("message",n)}}}function gi(t){return{type:"join",senderId:t,supportedProtocolVersions:[mu]}}Ve("WebsocketServer");export{po as $,Do as A,Ii as B,Lt as C,kn as D,Ni as E,Ks as F,bo as G,No as H,Hs as I,ko as J,mr as K,Oo as L,Eu as M,Fi as N,Oi as O,Co as P,$i as Q,Fo as R,vo as S,Be as T,Ws as U,pi as V,xo as W,yo as X,ku as Y,Cu as Z,Ou as _,Ti as a,Zr as a0,ki as b,Ai as c,So as d,Li as e,Yn as f,Di as g,wo as h,Ri as i,Po as j,Ci as k,Uo as l,Mo as m,Mi as n,Ui as o,Eo as p,Ao as q,Pi as r,Io as s,ji as t,mo as u,To as v,Su as w,Ie as x,Ro as y,jo as z};
